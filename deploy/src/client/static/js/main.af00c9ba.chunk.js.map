{"version":3,"sources":["lib/graphql/globalTypes.ts","lib/graphql/mutations/GoogleLogin/index.ts","lib/graphql/mutations/LinkedInLogin/index.ts","lib/graphql/mutations/CookieLogin/index.ts","lib/graphql/mutations/LogOut/index.ts","lib/graphql/mutations/ConnectStripe/index.ts","lib/graphql/mutations/DisconnectStripe/index.ts","lib/graphql/mutations/HostListing/index.ts","lib/graphql/mutations/CreateBooking/index.ts","lib/utils/index.ts","sections/AppHeader/components/MenuItems/index.tsx","lib/hooks/useLogoutMutation/useLogoutMutation.ts","sections/AppHeader/index.tsx","sections/AppHeader/assets/tinyhouse-logo.png","lib/graphql/queries/GoogleAuthUrl/index.ts","lib/graphql/queries/LinkedInAuthUrl/index.ts","lib/graphql/queries/User/index.ts","lib/graphql/queries/Listing/index.ts","lib/graphql/queries/Listings/index.ts","sections/Home/assets/toronto.jpeg","sections/Home/assets/dubai.jpeg","sections/Home/assets/los-angeles.jpeg","sections/Home/assets/london.jpeg","sections/Home/components/HomeHero/index.tsx","lib/components/AppHeaderSkeleton/index.tsx","lib/components/AppHeaderSkeleton/assets/tinyhouse-logo.png","lib/components/ErrorBanner/index.tsx","lib/components/PageSkeleton/index.tsx","lib/components/ListingCard/index.tsx","sections/Home/components/HomeListings/index.tsx","sections/Home/components/HomeListingsSkeleton/index.tsx","sections/Home/assets/listing-loading-card-cover.jpeg","lib/hooks/useScrollTop/useScrollTop.ts","sections/Home/assets/map-background.jpeg","sections/Home/assets/san-fransisco.jpeg","sections/Home/assets/cancun.jpeg","sections/Home/index.tsx","sections/Host/index.tsx","sections/Listing/components/ListingDetails/ListingDetails.tsx","sections/Listing/components/ListingBookings/ListingBookings.tsx","sections/Listing/components/CreateBooking/CreateBooking.tsx","sections/Listing/components/CreateBookingModal/CreateBookingModal.tsx","sections/Listing/index.tsx","sections/Listings/components/ListingsFilters/index.tsx","sections/Listings/components/ListingsPagination/index.tsx","sections/Listings/components/ListingsSkeleton/index.tsx","sections/Listings/assets/listing-loading-card-cover.jpeg","sections/Listings/index.tsx","sections/NotFound/index.tsx","sections/User/components/UserProfile/index.tsx","sections/User/components/UserListings/index.tsx","sections/User/components/UserBookings/index.tsx","sections/User/index.tsx","sections/Login/index.tsx","lib/hooks/useGoogleLogin/useGoogleLogin.ts","lib/hooks/useLinkedInLogin/useLinkedInLogin.ts","sections/Login/assets/google_logo.jpg","sections/Login/assets/linkedIn_logo.jpg","sections/Stripe/index.tsx","index.tsx","lib/hooks/useCookieLogin/useCookieLogin.ts"],"names":["ListingType","ListingsFilter","LOG_IN_GOOGLE","gql","LOG_IN_LINKEDIN","LOG_IN_COOKIE","LOG_OUT","CONNECT_STRIPE","DISCONNECT_STRIPE","HOST_LISTING","CREATE_BOOKING","iconColor","displaySuccessNotification","message","description","notification","placement","style","marginTop","displayErrorMessage","error","formatListingPrice","price","round","formattedListingPrice","Math","Item","Menu","SubMenu","MenuItems","viewer","handleLogout","setViewer","history","useHistory","useMutation","onCompleted","data","logOut","sessionStorage","removeItem","push","onError","useLogoutMutation","subMenuLogin","id","avatar","title","src","to","UserOutlined","marginRight","onClick","LogoutOutlined","type","mode","selectable","className","HomeOutlined","Header","Layout","Search","Input","AppHeader","useState","search","setSearch","location","useLocation","useEffect","pathname","pathnameSubStrings","split","includes","length","alt","placeholder","enterButton","onSearch","value","trimmedValue","trim","onChange","evt","target","GOOGLE_AUTH_URL","LINKEDIN_AUTH_URL","USER","LISTING","LISTINGS","Title","Typography","HomeHero","size","gutter","xs","md","cover","torontoImage","dubaiImage","losAngelesImage","londonImage","AppHeaderSkeleton","ErrorBanner","banner","closable","PageSkeleton","skeletonParagraph","active","paragraph","rows","Text","ListingCard","listing","image","address","numOfGuests","hoverable","backgroundImage","level","strong","ellipsis","color","List","HomeListings","listings","grid","column","sm","lg","dataSource","renderItem","HomeListingsSkeleton","loading","useScrollTop","useLayoutEffect","window","scrollTo","Content","Paragraph","Home","useQuery","variables","filter","PRICE_HIGH_TO_LOW","limit","page","fetchPolicy","mapBackground","result","sanFransiscoImage","cancunImage","Form","useForm","TextArea","Group","Radio","Host","imageLoading","setImageLoading","imageBase64Value","setImageBase64Value","form","hostListing","getBase64Value","img","callback","reader","FileReader","readAsDataURL","onload","hasWallet","layout","onFinish","values","fullAddress","city","state","postalCode","input","onFinishFailed","errorInfo","console","log","label","name","rules","required","Button","APARTMENT","HOUSE","BankOutlined","min","extra","maxLength","listType","showUploadList","customRequest","options","onSuccess","setTimeout","beforeUpload","file","fileIsValidImage","fileIsValidSize","info","status","originFileObj","LoadingOutlined","PlusOutlined","htmlType","ListingDetails","host","EnvironmentOutlined","expandable","ListingBookings","listingBookings","bookingsPage","setBookingsPage","total","listingBookingsList","undefined","locale","emptyText","pagination","current","defaultPageSize","hideOnSinglePage","showLessItems","listingBooking","bookingHistory","checkIn","checkOut","tenant","shape","CreateBooking","checkInDate","checkOutDate","setCheckInDate","setCheckOutDate","bookingsIndex","setModalVisible","bookingsIndexJSON","JSON","parse","disabledDate","currentDate","isBefore","moment","endOf","year","month","day","date","Boolean","dateIsBooked","viewerIsHost","checkInInputDisabled","checkOutInputDisabled","buttonDisabled","buttonMessage","format","dateValue","onOpenChange","showToday","disabled","selectedCheckOutDate","dateCursor","add","verifyAndSetCheckOutDate","mark","CreateBookingModal","modalVisible","clearBookingData","handleListingRefetch","createBooking","elements","useElements","stripe","useStripe","daysBooked","diff","listingPrice","handleCreateBooking","a","cardElement","getElement","createToken","stripeToken","token","source","visible","centered","footer","onCancel","KeyOutlined","hidePostalCode","Listing","stripePromise","useMemo","loadStripe","process","useParams","refetch","bookings","listingDetailsElement","listingBookingsElement","createBookingElement","listingCreateBookingModalElement","justify","Option","Select","ListingsFilters","setFilter","PRICE_LOW_TO_HIGH","ListingsPagination","setPage","ListingsSkeleton","Listings","locationRef","useRef","skip","listingsRegion","region","listingsSectionElement","offsetTop","listingsRegionElement","NotFound","stripeAuthUrl","UserProfile","user","viewerIsUser","handleUserRefetch","disconnectStripe","additionalDetails","income","href","rel","additionalDetailsSection","contact","UserListings","userListings","listingsPage","setListingsPage","userListingsList","position","userListing","UserBookings","userBookings","userBookingsList","userBooking","User","stripeErrorBanner","URL","searchParams","get","userProfileElement","userListingsElement","userBookingsElement","Login","useLazyQuery","loadGoogleAuthUrl","googleAuthUrlData","googleAuthUrlError","logInGoogle","logInGoogleData","logInGoogleLoading","logInGoogleError","logInGoogleRef","code","loginType","getItem","googleAuthUrl","useGoogleLogin","setItem","loadLinkedInAuthUrl","linkedInAuthUrlData","linkedInAuthUrlError","logInLinkedIn","logInLinkedInData","logInLinkedInLoading","logInLinkedInError","logInLinkedInRef","linkedInAuthUrl","useLinkedInLogin","tip","viewerId","logInErrorBannerElement","role","aria-label","Stripe","connectStripe","connectStripeRef","replace","httpLink","createHttpLink","uri","authLink","setContext","_","headers","client","ApolloClient","link","concat","cache","InMemoryCache","initialViewer","didRequest","App","logInCookie","logInCookieRef","useCookieLogin","exact","path","render","StrictMode","ApolloProvider","document","getElementById"],"mappings":"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","file":"static/js/main.af00c9ba.chunk.js","sourcesContent":["/* tslint:disable */\n/* eslint-disable */\n// @generated\n// This file was automatically generated and should not be edited.\n\n//==============================================================\n// START Enums and Input Objects\n//==============================================================\n\nexport enum ListingType {\n  APARTMENT = \"APARTMENT\",\n  HOUSE = \"HOUSE\",\n}\n\nexport enum ListingsFilter {\n  PRICE_HIGH_TO_LOW = \"PRICE_HIGH_TO_LOW\",\n  PRICE_LOW_TO_HIGH = \"PRICE_LOW_TO_HIGH\",\n}\n\nexport interface ConnectStripeInput {\n  code: string;\n}\n\nexport interface CreateBookingInput {\n  id: string;\n  source: string;\n  checkIn: string;\n  checkOut: string;\n}\n\nexport interface HostListingInput {\n  title: string;\n  description: string;\n  image: string;\n  type: ListingType;\n  address: string;\n  price: number;\n  numOfGuests: number;\n}\n\nexport interface LogInInput {\n  code: string;\n}\n\n//==============================================================\n// END Enums and Input Objects\n//==============================================================\n","import { gql } from \"@apollo/client\";\n\nexport const LOG_IN_GOOGLE = gql`\n  mutation LogInGoogle($input: LogInInput) {\n    logInGoogle(input: $input) {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LOG_IN_LINKEDIN = gql`\n  mutation LogInLinkedIn($input: LogInInput) {\n    logInLinkedIn(input: $input) {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LOG_IN_COOKIE = gql`\n  mutation LogInCookie {\n    logInCookie {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LOG_OUT = gql`\n  mutation LogOut {\n    logOut {\n      id\n      token\n      avatar\n      hasWallet\n      didRequest\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const CONNECT_STRIPE = gql`\n  mutation ConnectStripe($input: ConnectStripeInput!) {\n    connectStripe(input: $input) {\n      hasWallet\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const DISCONNECT_STRIPE = gql`\n  mutation DisconnectStripe {\n    disconnectStripe {\n      hasWallet\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const HOST_LISTING = gql`\n  mutation HostListing($input: HostListingInput!) {\n    hostListing(input: $input) {\n      id\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const CREATE_BOOKING = gql`\n  mutation CreateBooking($input: CreateBookingInput!) {\n    createBooking(input: $input) {\n      id\n    }\n  }\n`;\n","import { message, notification } from \"antd\";\n\nexport const iconColor = \"#1890ff\";\n\nexport const displaySuccessNotification = (message: string, description?: string) => {\n  return notification[\"success\"]({\n    message,\n    description,\n    placement: \"topLeft\",\n    style: {\n      marginTop: 50,\n    },\n  });\n};\n\nexport const displayErrorMessage = (error: string) => {\n  return message.error(error);\n};\n\nexport const formatListingPrice = (price: number, round = true) => {\n  const formattedListingPrice = round ? Math.round(price / 100) : price / 100;\n  return `$${formattedListingPrice}`;\n};\n","import { Link } from \"react-router-dom\";\nimport { Avatar, Button, Menu } from \"antd\";\nimport { HomeOutlined, UserOutlined, LogoutOutlined } from \"@ant-design/icons\";\nimport { Viewer } from \"../../../../lib/types\";\nimport { useLogoutMutation } from \"../../../../lib/hooks/useLogoutMutation\";\n\nconst { Item, SubMenu } = Menu;\n\ninterface MenuItemsProps {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst MenuItems = ({ viewer, setViewer }: MenuItemsProps) => {\n  const { handleLogout } = useLogoutMutation({ setViewer });\n\n  const subMenuLogin =\n    viewer.id && viewer.avatar ? (\n      <Item>\n        <SubMenu title={<Avatar src={viewer.avatar} />}>\n          <Item key=\"/user\">\n            <Link to={`/user/${viewer.id}`}>\n              <UserOutlined style={{ marginRight: \"5px\" }} />\n              Profile\n            </Link>\n          </Item>\n\n          <Item key=\"/logout\">\n            <div onClick={handleLogout}>\n              <LogoutOutlined style={{ marginRight: \"5px\" }} />\n              Log out\n            </div>\n          </Item>\n        </SubMenu>\n      </Item>\n    ) : (\n      <Item>\n        <Link to=\"/login\">\n          <Button type=\"primary\">Sign In</Button>\n        </Link>\n      </Item>\n    );\n\n  return (\n    <Menu mode=\"horizontal\" selectable={false} className=\"menu\">\n      <Item key=\"/host\">\n        <Link to=\"/host\">\n          <HomeOutlined style={{ marginRight: \"5px\" }} />\n          Host\n        </Link>\n      </Item>\n      {subMenuLogin}\n    </Menu>\n  );\n};\n\nexport { MenuItems };\n","import { useMutation } from \"@apollo/client\";\nimport { useHistory } from \"react-router-dom\";\nimport { LOG_OUT } from \"../../graphql/mutations\";\nimport { LogOut as LogOutData } from \"../../graphql/mutations/LogOut/__generated__/LogOut\";\nimport { Viewer } from \"../../types\";\nimport { displayErrorMessage, displaySuccessNotification } from \"../../utils\";\n\ninterface useLogoutMutationProps {\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst useLogoutMutation = ({ setViewer }: useLogoutMutationProps) => {\n  const history = useHistory();\n  const [logOut] = useMutation<LogOutData>(LOG_OUT, {\n    onCompleted: (data) => {\n      if (data && data.logOut) {\n        setViewer(data.logOut);\n        sessionStorage.removeItem(\"token\");\n        displaySuccessNotification(\"You've successfully logged out!\");\n        history.push(\"/login\");\n      }\n    },\n    onError: () =>\n      displayErrorMessage(\"Sorry! We weren't able to log you out. Please try again later!\"),\n  });\n\n  const handleLogout = () => {\n    logOut();\n  };\n\n  return { handleLogout };\n};\n\nexport { useLogoutMutation };\n","import { useEffect, useState } from \"react\";\nimport { Layout, Input } from \"antd\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { Link } from \"react-router-dom\";\nimport { MenuItems } from \"./components\";\nimport logo from \"./assets/tinyhouse-logo.png\";\nimport { Viewer } from \"../../lib/types\";\nimport { displayErrorMessage } from \"../../lib/utils\";\n\nconst { Header } = Layout;\nconst { Search } = Input;\n\ninterface AppHeaderProps {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst AppHeader = ({ viewer, setViewer }: AppHeaderProps) => {\n  const [search, setSearch] = useState(\"\");\n  let history = useHistory();\n  let location = useLocation();\n\n  const onSearch = (value: string) => {\n    const trimmedValue = value.trim();\n\n    if (trimmedValue) {\n      history.push(`/listings/${trimmedValue}`);\n    } else {\n      displayErrorMessage(\"Please enter a valid search!\");\n    }\n  };\n\n  useEffect(() => {\n    const { pathname } = location;\n    const pathnameSubStrings = pathname.split(\"/\");\n\n    if (!pathname.includes(\"/listings\")) {\n      setSearch(\"\");\n      return;\n    }\n\n    if (pathname.includes(\"/listings\") && pathnameSubStrings.length === 3) {\n      setSearch(pathnameSubStrings[2]);\n    }\n  }, [location]);\n\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <Link to=\"/\">\n            <img src={logo} alt=\"App logo\" />\n          </Link>\n        </div>\n        <div className=\"app-header__search-input\">\n          <Search\n            placeholder=\"Search 'San Fransisco'\"\n            enterButton\n            onSearch={onSearch}\n            onChange={(evt) => setSearch(evt.target.value)}\n            value={search}\n          />\n        </div>\n      </div>\n      <div className=\"app-header__menu-section\">\n        <MenuItems viewer={viewer} setViewer={setViewer} />\n      </div>\n    </Header>\n  );\n};\n\nexport { AppHeader };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { gql } from \"@apollo/client\";\n\nexport const GOOGLE_AUTH_URL = gql`\n  query GoogleAuthUrl {\n    googleAuthUrl\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LINKEDIN_AUTH_URL = gql`\n  query LinkedInAuthUrl {\n    linkedInAuthUrl\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const USER = gql`\n  query User($id: ID!, $bookingsPage: Int!, $listingsPage: Int!, $limit: Int!) {\n    user(id: $id) {\n      id\n      name\n      avatar\n      contact\n      hasWallet\n      income\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          listing {\n            id\n            title\n            image\n            address\n            price\n            numOfGuests\n          }\n          checkIn\n          checkOut\n        }\n      }\n      listings(limit: $limit, page: $listingsPage) {\n        total\n        result {\n          id\n          title\n          image\n          address\n          price\n          numOfGuests\n        }\n      }\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LISTING = gql`\n  query Listing($id: ID!, $bookingsPage: Int!, $limit: Int!) {\n    listing(id: $id) {\n      id\n      title\n      description\n      image\n      host {\n        id\n        name\n        avatar\n        hasWallet\n      }\n      type\n      address\n      city\n      bookings(limit: $limit, page: $bookingsPage) {\n        total\n        result {\n          id\n          tenant {\n            id\n            name\n            avatar\n          }\n          checkIn\n          checkOut\n        }\n      }\n      bookingsIndex\n      price\n      numOfGuests\n    }\n  }\n`;\n","import { gql } from \"@apollo/client\";\n\nexport const LISTINGS = gql`\n  query Listings($location: String, $filter: ListingsFilter!, $limit: Int!, $page: Int!) {\n    listings(location: $location, filter: $filter, limit: $limit, page: $page) {\n      total\n      region\n      result {\n        id\n        title\n        image\n        address\n        price\n        numOfGuests\n      }\n    }\n  }\n`;\n","export default __webpack_public_path__ + \"static/media/toronto.5c221cf7.jpeg\";","export default __webpack_public_path__ + \"static/media/dubai.a6c56bca.jpeg\";","export default __webpack_public_path__ + \"static/media/los-angeles.44220702.jpeg\";","export default __webpack_public_path__ + \"static/media/london.16fb9b9d.jpeg\";","import { Card, Col, Input, Row, Typography } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport torontoImage from \"../../assets/toronto.jpeg\";\nimport dubaiImage from \"../../assets/dubai.jpeg\";\nimport losAngelesImage from \"../../assets/los-angeles.jpeg\";\nimport londonImage from \"../../assets/london.jpeg\";\n\nconst { Title } = Typography;\nconst { Search } = Input;\n\ninterface Props {\n  onSearch: (value: string) => void;\n}\n\nconst HomeHero = ({ onSearch }: Props) => {\n  return (\n    <div className=\"home-hero\">\n      <div className=\"home-hero__search\">\n        <Title className=\"home-hero__title\">Find a place you'll love to stay at</Title>\n        <Search\n          placeholder=\"Search 'San Fransisco'\"\n          size=\"large\"\n          enterButton\n          className=\"home-hero__search-input\"\n          onSearch={onSearch}\n        />\n      </div>\n      <Row gutter={12} className=\"home-hero__cards\">\n        <Col xs={12} md={6}>\n          <Link to=\"/listings/toronto\">\n            <Card cover={<img alt=\"Toronto\" src={torontoImage} />}>Toronto</Card>\n          </Link>\n        </Col>\n        <Col xs={12} md={6}>\n          <Link to=\"/listings/dubai\">\n            <Card cover={<img alt=\"Dubai\" src={dubaiImage} />}>Dubai</Card>\n          </Link>\n        </Col>\n        <Col xs={0} md={6}>\n          <Link to=\"/listings/los%20angeles\">\n            <Card cover={<img alt=\"Los Angeles\" src={losAngelesImage} />}>Los Angeles</Card>\n          </Link>\n        </Col>\n\n        <Col xs={0} md={6}>\n          <Link to=\"/listings/london\">\n            <Card cover={<img alt=\"London\" src={londonImage} />}>London</Card>\n          </Link>\n        </Col>\n      </Row>\n    </div>\n  );\n};\n\nexport { HomeHero };\n","import { Layout } from \"antd\";\nimport logo from \"./assets/tinyhouse-logo.png\";\n\nconst { Header } = Layout;\n\nconst AppHeaderSkeleton = () => {\n  return (\n    <Header className=\"app-header\">\n      <div className=\"app-header__logo-search-section\">\n        <div className=\"app-header__logo\">\n          <img src={logo} alt=\"App logo\" />\n        </div>\n      </div>\n    </Header>\n  );\n};\n\nexport { AppHeaderSkeleton };\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEEAAABICAYAAACp+JiNAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAKtSURBVHgB7ZvPcdNAFMa/ZTjkhm/JLaYDUgFJBeAKCBUgVUCowKICSAemAlyCO8hySgwXc0ouZPn22WLEv4xs7W5g5vvNOJpV5Iz10763Ty+yO2hCQDrmV5U7QWb4mS+4GSMN/gEEJAGSYEgCJMGQBEiCIQmQBEMSIAmGJEASDEmAJBiSAEkwJAGSYEgCJMGQBEiCIQmQBOMh0jI+mIZTZIb/Mhs5pCO5BDi8Q2ZSCogoHCAJhiRAEgxJgCQYkgBJMCQBkmBIAiTBkARIgnGfEuZsDLz8FnAUtxx73BOp+wm9cAH1Ze2azq4FmzFz5zBlw+Q5ClN+JvCq/yLAuKqdv+bv2DCZoTDFJPAKr/jjhCf7/m/HrGq3uqzchDPlLQpSSoK/XQuY9zmYM6WisDcoRAkJPs6AL7VbbPMmCjsrJSKrBMb3YhMCHjsQRXAGTSyUMpJPQsD59QABLZ9rN4uhhIxLaBYJgYmNJ38aEx0SYKGUUUR6CYzjZUxsibEZlUlEUgmxCLKEloko4oYVZoi5JiFJJGxqgD8WQamJIbas3FHKWiJF2RxrgEmfJXA0DaM9btrxDc8pnhRL5nH3uD7JNNYSfN+KS9BrDGToTNiqBqCAhh/6on1xvM4dDh+7+3lyx33+Xgw9JuEaAxkiwSPBEjgUJuHG7kQHJMydJbj1MujxDxBn4u2AGbFzTggOr/abcEgZXzu7/V03SDGBus4V61SCHlsQn4HYPKMwYvgccteY4yfYEaevCcMXbarYUywOT9sxp/CHWBbvT0PDhsqjHwey4CoZaqU7S8d8vWgHTEifuJlRwDP8fGXPUbDdpkYrJMEoGg6sEKu9gLPO2FaHeNfpOpUkCneei0rY3Fr/dnu9LHDPcRcKB0iCIQmQBEMSEFeHgMf431j3GpPxHWSq7xBvwxLFAAAAAElFTkSuQmCC\"","import { Alert } from \"antd\";\n\ninterface ErrorBannerProps {\n  message?: string;\n  description?: string;\n}\n\nconst ErrorBanner = ({\n  message = \"Something went wrong\",\n  description = \"Looks like something went wrong. Please check your internet connection and try again later\",\n}: ErrorBannerProps) => {\n  return (\n    <Alert\n      banner\n      closable\n      message={message}\n      description={description}\n      type=\"error\"\n      className=\"error-banner\"\n    />\n  );\n};\n\nexport { ErrorBanner };\n","import { Fragment } from \"react\";\nimport { Skeleton } from \"antd\";\n\nconst PageSkeleton = () => {\n  const skeletonParagraph = (\n    <Skeleton active paragraph={{ rows: 4 }} className=\"page-skeleton__paragraph\" />\n  );\n\n  return (\n    <Fragment>\n      {skeletonParagraph}\n      {skeletonParagraph}\n      {skeletonParagraph}\n    </Fragment>\n  );\n};\n\nexport { PageSkeleton };\n","import { Card, Typography } from \"antd\";\nimport { Link } from \"react-router-dom\";\nimport { UserOutlined } from \"@ant-design/icons\";\nimport { iconColor, formatListingPrice } from \"../../utils\";\n\ninterface Props {\n  listing: {\n    id: string;\n    title: string;\n    image: string;\n    address: string;\n    price: number;\n    numOfGuests: number;\n  };\n}\n\nconst { Text, Title } = Typography;\n\nconst ListingCard = ({ listing }: Props) => {\n  const { id, title, image, address, price, numOfGuests } = listing;\n\n  return (\n    <Link to={`/listing/${id}`}>\n      <Card\n        hoverable\n        cover={\n          <div style={{ backgroundImage: `url(${image})` }} className=\"listing-card__cover-img\" />\n        }\n      >\n        <div className=\"listing-card__details\">\n          <div className=\"listing-card__description\">\n            <Title level={4} className=\"listing-card__price\">\n              {formatListingPrice(price)}\n              <span>/day</span>\n            </Title>\n            <Text strong ellipsis className=\"listing-card__title\">\n              {title}\n            </Text>\n            <Text ellipsis className=\"listing-card__address\">\n              {address}\n            </Text>\n          </div>\n          <div className=\"listing-card__dimensions listing-card__dimensions--guests\">\n            <UserOutlined style={{ color: iconColor, marginRight: \"5px\" }} />\n            <Text>{numOfGuests} guests</Text>\n          </div>\n        </div>\n      </Card>\n    </Link>\n  );\n};\n\nexport { ListingCard };\n","import { List, Typography } from \"antd\";\nimport { ListingCard } from \"../../../../lib/components\";\nimport { Listings } from \"../../../../lib/graphql/queries/Listings/__generated__/Listings\";\n\ninterface Props {\n  title: string;\n  listings: Listings[\"listings\"][\"result\"];\n}\n\nconst { Title } = Typography;\nconst { Item } = List;\n\nconst HomeListings = ({ title, listings }: Props) => {\n  return (\n    <div className=\"home-listings\">\n      <Title level={4} className=\"home-listings__title\">\n        {title}\n      </Title>\n      <List\n        grid={{\n          column: 4,\n          gutter: 8,\n          xs: 1,\n          sm: 2,\n          lg: 4,\n        }}\n        dataSource={listings}\n        renderItem={(listing) => (\n          <Item>\n            <ListingCard listing={listing} />\n          </Item>\n        )}\n      />\n    </div>\n  );\n};\n\nexport { HomeListings };\n","import { Card, List, Skeleton } from \"antd\";\nimport listingLoadingCardCover from \"../../assets/listing-loading-card-cover.jpeg\";\n\nexport const HomeListingsSkeleton = () => {\n  const emptyData = [{}, {}, {}, {}];\n\n  return (\n    <div className=\"home-listings-skeleton\">\n      <Skeleton paragraph={{ rows: 0 }} />\n      <List\n        grid={{\n          column: 4,\n          gutter: 8,\n          xs: 1,\n          sm: 2,\n          lg: 4,\n        }}\n        dataSource={emptyData}\n        renderItem={() => (\n          <List.Item>\n            <Card\n              cover={\n                <div\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\n                  className=\"home-listings-skeleton__card-cover-img\"\n                ></div>\n              }\n              loading\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import { useLayoutEffect } from \"react\";\n\nconst useScrollTop = () => {\n  useLayoutEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n};\n\nexport { useScrollTop };\n","export default __webpack_public_path__ + \"static/media/map-background.c8201cdd.jpeg\";","export default __webpack_public_path__ + \"static/media/san-fransisco.bc8599ab.jpeg\";","export default __webpack_public_path__ + \"static/media/cancun.7009e472.jpeg\";","import { Layout, Typography, Col, Row } from \"antd\";\nimport { useQuery } from \"@apollo/client\";\nimport { useHistory, Link } from \"react-router-dom\";\nimport { LISTINGS } from \"../../lib/graphql/queries\";\nimport {\n  Listings as ListingsData,\n  ListingsVariables,\n} from \"../../lib/graphql/queries/Listings/__generated__/Listings\";\nimport { ListingsFilter } from \"../../lib/graphql/globalTypes\";\nimport { HomeHero, HomeListings, HomeListingsSkeleton } from \"./components\";\nimport { displayErrorMessage } from \"../../lib/utils\";\nimport { useScrollTop } from \"../../lib/hooks/useScrollTop\";\nimport mapBackground from \"./assets/map-background.jpeg\";\nimport sanFransiscoImage from \"./assets/san-fransisco.jpeg\";\nimport cancunImage from \"./assets/cancun.jpeg\";\n\nconst { Content } = Layout;\nconst { Paragraph, Title } = Typography;\n\nconst PAGE_LIMIT = 4;\nconst PAGE_NUMBER = 1;\n\nconst Home = () => {\n  let history = useHistory();\n  const { loading, data } = useQuery<ListingsData, ListingsVariables>(LISTINGS, {\n    variables: {\n      filter: ListingsFilter.PRICE_HIGH_TO_LOW,\n      limit: PAGE_LIMIT,\n      page: PAGE_NUMBER,\n    },\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  useScrollTop();\n\n  const renderListingsSection = () => {\n    if (loading) {\n      return <HomeListingsSkeleton />;\n    }\n\n    if (data) {\n      return <HomeListings title=\"Premium Listings\" listings={data.listings.result} />;\n    }\n\n    return null;\n  };\n\n  const onSearch = (value: string) => {\n    const trimmedValue = value.trim();\n    if (trimmedValue) {\n      history.push(`/listings/${trimmedValue}`);\n    } else {\n      displayErrorMessage(\"Please enter a valid search!\");\n    }\n  };\n\n  return (\n    <Content className=\"home\" style={{ backgroundImage: `url(${mapBackground})` }}>\n      <HomeHero onSearch={onSearch} />\n      <div className=\"home__cta-section\">\n        <Title level={2} className=\"home__cta-section-title\">\n          Your guide for all things rental\n        </Title>\n        <Paragraph>\n          Helping you make the best decisions in renting your last minute locations.\n        </Paragraph>\n        <Link\n          to=\"/listings/united%20states\"\n          className=\"ant-btn ant-btn-primary ant-btn-lg home__cta-section-button\"\n        >\n          Popular listings in the United States\n        </Link>\n      </div>\n      {renderListingsSection()}\n      <div className=\"home__listings\">\n        <Title level={4} className=\"home__listings-title\">\n          Listings of any kind\n        </Title>\n        <Row gutter={12}>\n          <Col xs={24} sm={12}>\n            <Link to=\"/listings/san%20fransisco\">\n              <div className=\"home__listings-img-cover\">\n                <img src={sanFransiscoImage} alt=\"San Fransisco\" className=\"home__listings-img\" />\n              </div>\n            </Link>\n          </Col>\n          <Col xs={24} sm={12}>\n            <Link to=\"/listings/cancún\">\n              <div className=\"home__listings-img-cover\">\n                <img src={cancunImage} alt=\"Cancún\" className=\"home__listings-img\" />\n              </div>\n            </Link>\n          </Col>\n        </Row>\n      </div>\n    </Content>\n  );\n};\n\nexport { Home };\n","import { useState } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { Layout, Typography, Form, Input, InputNumber, Radio, Upload, Button } from \"antd\";\nimport { UploadChangeParam } from \"antd/lib/upload\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport { HomeOutlined, BankOutlined, LoadingOutlined, PlusOutlined } from \"@ant-design/icons\";\nimport { Viewer } from \"../../lib/types\";\nimport { ListingType } from \"../../lib/graphql/globalTypes\";\nimport { iconColor, displayErrorMessage, displaySuccessNotification } from \"../../lib/utils\";\nimport { HOST_LISTING } from \"../../lib/graphql/mutations\";\nimport {\n  HostListing as HostListingData,\n  HostListingVariables,\n} from \"../../lib/graphql/mutations/HostListing/__generated__/HostListing\";\nimport { useScrollTop } from \"../../lib/hooks/useScrollTop\";\n\nconst { Content } = Layout;\nconst { Text, Title } = Typography;\nconst { Item, useForm } = Form;\nconst { TextArea } = Input;\nconst { Group } = Radio;\n\ninterface Props {\n  viewer: Viewer;\n}\n\nconst Host = ({ viewer }: Props) => {\n  const [imageLoading, setImageLoading] = useState(false);\n  const [imageBase64Value, setImageBase64Value] = useState<string | null>(null);\n  const [form] = useForm();\n  const [hostListing, { loading, data }] = useMutation<HostListingData, HostListingVariables>(\n    HOST_LISTING,\n    {\n      onError: () => {\n        displayErrorMessage(\n          \"Sorry! We weren't able to create your listing. Please try again later.\"\n        );\n      },\n      onCompleted: () => {\n        displaySuccessNotification(\"You've successfully created your listing!\");\n      },\n    }\n  );\n\n  useScrollTop();\n\n  const onFinish = (values: any) => {\n    const fullAddress = `${values.address}, ${values.city}, ${values.state}, ${values.postalCode}`;\n\n    const input = {\n      ...values,\n      address: fullAddress,\n      image: imageBase64Value,\n      price: values.price * 100,\n    };\n\n    delete input.city;\n    delete input.state;\n    delete input.postalCode;\n\n    hostListing({\n      variables: {\n        input,\n      },\n    });\n  };\n\n  const onFinishFailed = (errorInfo: any) => {\n    console.log({ errorInfo });\n  };\n\n  const dummyRequest = (options: any) => {\n    const { onSuccess } = options;\n    setTimeout(() => {\n      onSuccess(\"ok\");\n    }, 0);\n  };\n\n  const handleImageUpload = (info: UploadChangeParam) => {\n    const { file } = info;\n\n    if (file.status === \"uploading\") {\n      setImageLoading(true);\n      return;\n    }\n\n    if (file.status === \"done\" && file.originFileObj) {\n      getBase64Value(file.originFileObj, (imageBase64Value) => {\n        setImageBase64Value(imageBase64Value);\n        setImageLoading(false);\n      });\n    }\n  };\n\n  const getBase64Value = (img: File | Blob, callback: (imageBase64Value: string) => void) => {\n    const reader = new FileReader();\n    reader.readAsDataURL(img);\n    reader.onload = () => {\n      callback(reader.result as string);\n    };\n  };\n\n  const beforeImageUpload = (file: File) => {\n    const fileIsValidImage = file.type === \"image/jpeg\" || file.type === \"image/png\";\n    const fileIsValidSize = file.size / 1024 / 1024 < 1;\n\n    if (!fileIsValidImage) {\n      displayErrorMessage(\"You're only able to upload valid JPG or PNG files!\");\n      return false;\n    }\n\n    if (!fileIsValidSize) {\n      displayErrorMessage(\"You're only able to upload valid image files of under 1MB in size!\");\n      return false;\n    }\n\n    return fileIsValidImage && fileIsValidSize;\n  };\n\n  if (!viewer.id || !viewer.hasWallet) {\n    return (\n      <Content className=\"host-content\">\n        <div className=\"host__form-header\">\n          <Title level={4} className=\"host__form-title\">\n            You'll have to be signed in and connected with Stripe to host a listing!\n          </Title>\n          <Text type=\"secondary\">\n            We only allow users who've signed in to our application and have connected with Stripe\n            to host new listings. You can sign in at the <Link to=\"/login\">/login</Link> page and\n            connect with Stripe shortly after.\n          </Text>\n        </div>\n      </Content>\n    );\n  }\n\n  if (loading) {\n    return (\n      <Content className=\"host-content\">\n        <div className=\"host__form-header\">\n          <Title level={3} className=\"host__form-title\">\n            Please wait!\n          </Title>\n          <Text type=\"secondary\">We're creating your listing now.</Text>\n        </div>\n      </Content>\n    );\n  }\n\n  if (data && data.hostListing) {\n    return <Redirect to={`/listing/${data.hostListing.id}`} />;\n  }\n\n  return (\n    <Content className=\"host-content\">\n      <Form layout=\"vertical\" form={form} onFinish={onFinish} onFinishFailed={onFinishFailed}>\n        <div className=\"host__form-header\">\n          <Title level={3} className=\"host__form-title\">\n            Hi! Let's get started listing your place.\n          </Title>\n          <Text type=\"secondary\">\n            In this form, we'll collect some basic and additional information about your listing.\n          </Text>\n        </div>\n\n        <Item\n          label=\"Home Type\"\n          name=\"type\"\n          rules={[\n            {\n              required: true,\n              message: \"Please select a home type\",\n            },\n          ]}\n        >\n          <Group>\n            <Radio.Button value={ListingType.APARTMENT}>\n              <HomeOutlined style={{ color: iconColor, marginRight: \"5px\" }} />\n              <span>Apartment</span>\n            </Radio.Button>\n            <Radio.Button value={ListingType.HOUSE}>\n              <BankOutlined style={{ color: iconColor, marginRight: \"5px\" }} />\n              <span>House</span>\n            </Radio.Button>\n          </Group>\n        </Item>\n\n        <Item\n          label=\"Max # of Guests\"\n          name=\"numOfGuests\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a max number of guests\",\n            },\n          ]}\n        >\n          <InputNumber min={1} placeholder=\"4\" />\n        </Item>\n\n        <Item\n          label=\"Title\"\n          extra=\"Max character count of 45\"\n          name=\"title\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a title for your listing\",\n            },\n          ]}\n        >\n          <Input maxLength={45} placeholder=\"The iconic and luxurious Bel-Air mansion\" />\n        </Item>\n\n        <Item\n          label=\"Description of listing\"\n          extra=\"Max character count of 400\"\n          name=\"description\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a description for your listing\",\n            },\n          ]}\n        >\n          <TextArea\n            rows={3}\n            maxLength={400}\n            placeholder=\"\n              Modern, clean, and iconic home of the Fresh Prince.\n              Situated in the heart of Bel-Air, Los Angeles.\n            \"\n          />\n        </Item>\n\n        <Item\n          label=\"Address\"\n          name=\"address\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter an address for your listing\",\n            },\n          ]}\n        >\n          <Input placeholder=\"251 North Bristol Avenue\" />\n        </Item>\n\n        <Item\n          label=\"City/Town\"\n          name=\"city\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a city (or region) for your listing\",\n            },\n          ]}\n        >\n          <Input placeholder=\"Los Angeles\" />\n        </Item>\n\n        <Item\n          label=\"State/Province\"\n          name=\"state\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a state (or province) for your listing\",\n            },\n          ]}\n        >\n          <Input placeholder=\"California\" />\n        </Item>\n\n        <Item\n          label=\"Zip/Postal Code\"\n          name=\"postalCode\"\n          rules={[\n            {\n              required: true,\n              message: \"Please enter a zip (or postal) code for your listing\",\n            },\n          ]}\n        >\n          <Input placeholder=\"Please enter a zip code for your listing!\" />\n        </Item>\n\n        <Item\n          label=\"Image\"\n          extra=\"Images have to be under 1MB in size and of type JPG or PNG\"\n          name=\"image\"\n          rules={[\n            {\n              required: true,\n              message: \"Please provide an image for your listing\",\n            },\n          ]}\n        >\n          <div className=\"host__form-image-upload\">\n            <Upload\n              name=\"image\"\n              listType=\"picture-card\"\n              showUploadList={false}\n              customRequest={dummyRequest}\n              beforeUpload={beforeImageUpload}\n              onChange={handleImageUpload}\n            >\n              {\" \"}\n              {imageBase64Value ? (\n                <img src={imageBase64Value} alt=\"Listing\" />\n              ) : (\n                <div>\n                  {imageLoading ? <LoadingOutlined /> : <PlusOutlined />}\n                  <div className=\"ant-upload-text\">Upload</div>\n                </div>\n              )}\n            </Upload>\n          </div>\n        </Item>\n\n        <Item\n          label=\"Price\"\n          extra=\"All prices in $USD/day\"\n          name=\"price\"\n          rules={[\n            {\n              required: true,\n              message: \"Please provide a price for your listing\",\n            },\n          ]}\n        >\n          <InputNumber min={0} placeholder=\"120\" />\n        </Item>\n\n        <Item>\n          <Button type=\"primary\" htmlType=\"submit\">\n            Submit\n          </Button>\n        </Item>\n      </Form>\n    </Content>\n  );\n};\n\nexport { Host };\n","import { Link } from \"react-router-dom\";\nimport { Avatar, Divider, Tag, Typography } from \"antd\";\nimport { EnvironmentOutlined } from \"@ant-design/icons\";\nimport { Listing as ListingData } from \"../../../../lib/graphql/queries/Listing/__generated__/Listing\";\nimport { iconColor } from \"../../../../lib/utils\";\n\ninterface Props {\n  listing: ListingData[\"listing\"];\n}\n\nconst { Paragraph, Title } = Typography;\n\nconst ListingDetails = ({ listing }: Props) => {\n  const { title, description, image, type, address, city, numOfGuests, host } = listing;\n\n  return (\n    <div className=\"listing-details\">\n      <div style={{ backgroundImage: `url(${image})` }} className=\"listing-details__image\" />\n\n      <div className=\"listing-details__information\">\n        <Paragraph type=\"secondary\" ellipsis className=\"listing-details__city-address\">\n          <Link to={`/listings/${city}`}>\n            <EnvironmentOutlined style={{ color: iconColor }} /> {city}\n          </Link>\n          <Divider type=\"vertical\" />\n          {address}\n        </Paragraph>\n        <Title level={3} className=\"listing-details__title\">\n          {title}\n        </Title>\n      </div>\n\n      <Divider />\n\n      <div className=\"listing-details__section\">\n        <Link to={`/user/${host.id}`}>\n          <Avatar src={host.avatar} size={64} />\n          <Title level={2} className=\"listing-details__host-name\">\n            {host.name}\n          </Title>\n        </Link>\n      </div>\n\n      <Divider />\n\n      <div className=\"listing-details__section\">\n        <Title level={4}>About this space</Title>\n        <div className=\"listing-details__about-items\">\n          <Tag color=\"magenta\">{type}</Tag>\n          <Tag color=\"magenta\">{numOfGuests} Guests</Tag>\n        </div>\n        <Paragraph ellipsis={{ rows: 3, expandable: true }}>{description}</Paragraph>\n      </div>\n    </div>\n  );\n};\n\nexport { ListingDetails };\n","import { Link } from \"react-router-dom\";\nimport { Avatar, Divider, List, Typography } from \"antd\";\nimport { Listing } from \"../../../../lib/graphql/queries/Listing/__generated__/Listing\";\n\ninterface Props {\n  listingBookings: Listing[\"listing\"][\"bookings\"];\n  bookingsPage: number;\n  limit: number;\n  setBookingsPage: (page: number) => void;\n}\n\nconst { Text, Title } = Typography;\nconst { Item } = List;\n\nexport const ListingBookings = ({\n  listingBookings,\n  bookingsPage,\n  limit,\n  setBookingsPage,\n}: Props) => {\n  const total = listingBookings ? listingBookings.total : null;\n  const result = listingBookings ? listingBookings.result : null;\n\n  const listingBookingsList = listingBookings ? (\n    <List\n      grid={{\n        column: 4,\n        gutter: 8,\n        xs: 1,\n        sm: 2,\n        lg: 3,\n      }}\n      dataSource={result ? result : undefined}\n      locale={{ emptyText: \"No bookings have been made yet!\" }}\n      pagination={{\n        current: bookingsPage,\n        total: total ? total : undefined,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setBookingsPage(page),\n      }}\n      renderItem={(listingBooking) => {\n        const bookingHistory = (\n          <div className=\"listing-bookings__history\">\n            <div>\n              Check in: <Text strong>{listingBooking.checkIn}</Text>\n            </div>\n            <div>\n              Check out: <Text strong>{listingBooking.checkOut}</Text>\n            </div>\n          </div>\n        );\n\n        return (\n          <Item className=\"listing-bookings__item\">\n            {bookingHistory}\n            <Link to={`/user/${listingBooking.tenant.id}`}>\n              <Avatar src={listingBooking.tenant.avatar} size={64} shape=\"square\" />\n            </Link>\n          </Item>\n        );\n      }}\n    />\n  ) : null;\n\n  const listingBookingsElement = listingBookingsList ? (\n    <div className=\"listing-bookings\">\n      <Divider />\n      <div className=\"listing-bookings__section\">\n        <Title level={4}>Bookings</Title>\n      </div>\n      {listingBookingsList}\n    </div>\n  ) : null;\n\n  return listingBookingsElement;\n};\n","import { Button, Card, Divider, Typography, DatePicker } from \"antd\";\nimport moment, { Moment } from \"moment\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport { Viewer } from \"../../../../lib/types\";\nimport { formatListingPrice, displayErrorMessage } from \"../../../../lib/utils\";\nimport { Listing as ListingData } from \"../../../../lib/graphql/queries/Listing/__generated__/Listing\";\nimport { BookingsIndex } from \"./types\";\n\nconst { Paragraph, Title, Text } = Typography;\n\ninterface Props {\n  price: number;\n  checkInDate: Moment | null;\n  checkOutDate: Moment | null;\n  setCheckInDate: (checkInDate: Moment | null) => void;\n  setCheckOutDate: (checkOutDate: Moment | null) => void;\n  viewer: Viewer;\n  host: ListingData[\"listing\"][\"host\"];\n  bookingsIndex: ListingData[\"listing\"][\"bookingsIndex\"];\n  setModalVisible: (modalVisible: boolean) => void;\n}\n\nconst CreateBooking = ({\n  price,\n  checkInDate,\n  checkOutDate,\n  setCheckInDate,\n  setCheckOutDate,\n  viewer,\n  host,\n  bookingsIndex,\n  setModalVisible,\n}: Props) => {\n  const bookingsIndexJSON: BookingsIndex = JSON.parse(bookingsIndex);\n\n  const dateIsBooked = (currentDate: Moment) => {\n    const year = moment(currentDate).year();\n    const month = moment(currentDate).month();\n    const day = moment(currentDate).date();\n\n    if (bookingsIndexJSON[year] && bookingsIndexJSON[year][month]) {\n      return Boolean(bookingsIndexJSON[year][month][day]);\n    } else {\n      return false;\n    }\n  };\n\n  const disabledDate = (currentDate: any) => {\n    if (currentDate) {\n      const dateIsBeforeEndOfDay = currentDate.isBefore(moment().endOf(\"day\"));\n      return dateIsBeforeEndOfDay || dateIsBooked(currentDate);\n    }\n    return true;\n  };\n\n  const verifyAndSetCheckOutDate = (selectedCheckOutDate: Moment | null) => {\n    if (checkInDate && selectedCheckOutDate) {\n      if (moment(selectedCheckOutDate).isBefore(checkInDate, \"days\")) {\n        return displayErrorMessage(`You can't book date of check out to be prior to check in!`);\n      }\n    }\n\n    let dateCursor = checkInDate;\n\n    while (moment(dateCursor).isBefore(selectedCheckOutDate, \"days\")) {\n      dateCursor = moment(dateCursor).add(1, \"days\");\n\n      const year = moment(dateCursor).year();\n      const month = moment(dateCursor).month();\n      const day = moment(dateCursor).date();\n\n      if (\n        bookingsIndexJSON[year] &&\n        bookingsIndexJSON[year][month] &&\n        bookingsIndexJSON[year][month][day]\n      ) {\n        return displayErrorMessage(\n          \"You can't book a period of time that overlaps existing bookings. Please try again!\"\n        );\n      }\n    }\n\n    setCheckOutDate(selectedCheckOutDate);\n  };\n\n  const viewerIsHost = viewer.id === host.id;\n  const checkInInputDisabled = !viewer.id || viewerIsHost || !host.hasWallet;\n  const checkOutInputDisabled = checkInInputDisabled || !checkInDate;\n  const buttonDisabled = checkOutInputDisabled || !checkInDate || !checkOutDate;\n\n  let buttonMessage = \"You won't be charged yet\";\n  if (!viewer.id) {\n    buttonMessage = \"You have to be signed in to book a listing!\";\n  } else if (viewerIsHost) {\n    buttonMessage = \"You can't book your own listing!\";\n  } else if (!host.hasWallet) {\n    buttonMessage =\n      \"The host has disconnected from Stripe and thus won't be able to receive payments.\";\n  }\n\n  return (\n    <div className=\"listing-booking\">\n      <Card className=\"listing-booking__card\">\n        <div>\n          <Paragraph>\n            <Title level={2} className=\"listing-booking__card-title\">\n              {formatListingPrice(price)}\n              <span>/day</span>\n            </Title>\n          </Paragraph>\n          <Divider />\n          <div className=\"listing-booking__card-date-picker\">\n            <Paragraph strong>Check In</Paragraph>\n            <DatePicker\n              disabledDate={disabledDate}\n              value={checkInDate}\n              format={\"YYYY/MM/DD\"}\n              onChange={(dateValue) => setCheckInDate(dateValue as Moment)}\n              onOpenChange={() => setCheckOutDate(null)}\n              showToday={false}\n              disabled={checkInInputDisabled}\n            />\n          </div>\n          <div className=\"listing-booking__card-date-picker\">\n            <Paragraph strong>Check Out</Paragraph>\n            <DatePicker\n              disabledDate={disabledDate}\n              value={checkOutDate}\n              format={\"YYYY/MM/DD\"}\n              onChange={(dateValue) => verifyAndSetCheckOutDate(dateValue as Moment)}\n              showToday={false}\n              disabled={checkOutInputDisabled}\n            />\n          </div>\n        </div>\n        <Divider />\n        <Button\n          size=\"large\"\n          type=\"primary\"\n          className=\"listing-booking__card-cta\"\n          disabled={buttonDisabled}\n          onClick={() => setModalVisible(true)}\n        >\n          Request to book!\n        </Button>\n        <Text type=\"secondary\" mark>\n          {buttonMessage}\n        </Text>\n      </Card>\n    </div>\n  );\n};\n\nexport { CreateBooking };\n","import { Button, Divider, Modal, Typography } from \"antd\";\nimport { KeyOutlined } from \"@ant-design/icons\";\nimport { useMutation } from \"@apollo/client\";\nimport moment, { Moment } from \"moment\";\nimport { CardElement, useStripe, useElements } from \"@stripe/react-stripe-js\";\nimport {\n  formatListingPrice,\n  displayErrorMessage,\n  displaySuccessNotification,\n} from \"../../../../lib/utils\";\nimport { CREATE_BOOKING } from \"../../../../lib/graphql/mutations\";\nimport {\n  CreateBooking as CreateBookingData,\n  CreateBookingVariables,\n} from \"../../../../lib/graphql/mutations/CreateBooking/__generated__/CreateBooking\";\n\ninterface Props {\n  id: string;\n  price: number;\n  modalVisible: boolean;\n  checkInDate: Moment;\n  checkOutDate: Moment;\n  setModalVisible: (modalVisible: boolean) => void;\n  clearBookingData: () => void;\n  handleListingRefetch: () => Promise<void>;\n}\n\nconst { Paragraph, Text, Title } = Typography;\n\nconst CreateBookingModal = ({\n  id,\n  modalVisible,\n  setModalVisible,\n  checkInDate,\n  checkOutDate,\n  price,\n  clearBookingData,\n  handleListingRefetch,\n}: Props) => {\n  const [createBooking, { loading }] = useMutation<CreateBookingData, CreateBookingVariables>(\n    CREATE_BOOKING,\n    {\n      onCompleted: () => {\n        clearBookingData();\n        displaySuccessNotification(\n          \"You've successfully booked the listing!\",\n          \"Booking history can always be found in your User page.\"\n        );\n        handleListingRefetch();\n      },\n      onError: () => {\n        displayErrorMessage(\n          \"Sorry! We weren't able to successfully book the listing. Please try again later!\"\n        );\n      },\n    }\n  );\n  const elements = useElements();\n  const stripe = useStripe();\n  const daysBooked = checkOutDate.diff(checkInDate, \"days\") + 1;\n  const listingPrice = price * daysBooked;\n\n  const handleCreateBooking = async () => {\n    if (!stripe) {\n      return displayErrorMessage(\"Sorry! We weren't able to connect with Stripe\");\n    }\n    const cardElement = elements?.getElement(\"card\");\n    const { token: stripeToken, error } = await stripe!.createToken(cardElement!);\n    if (stripeToken) {\n      createBooking({\n        variables: {\n          input: {\n            id,\n            source: stripeToken.id,\n            checkIn: moment(checkInDate).format(\"YYYY-MM-DD\"),\n            checkOut: moment(checkOutDate).format(\"YYYY-MM-DD\"),\n          },\n        },\n      });\n    } else {\n      displayErrorMessage(\n        error && error.message\n          ? error.message\n          : \"Sorry! We weren't able to book the listing. Please try again later.\"\n      );\n    }\n  };\n\n  return (\n    <Modal visible={modalVisible} centered footer={null} onCancel={() => setModalVisible(false)}>\n      <div className=\"listing-booking-modal\">\n        <div className=\"listing-booking-modal__intro\">\n          <Title className=\"listing-boooking-modal__intro-title\">\n            <KeyOutlined />\n          </Title>\n          <Title level={3} className=\"listing-boooking-modal__intro-title\">\n            Book your trip\n          </Title>\n          <Paragraph>\n            Enter your payment information to book the listing from the dates between{\" \"}\n            <Text mark strong>\n              {moment(checkInDate).format(\"MMMM Do YYYY\")}\n            </Text>{\" \"}\n            and{\" \"}\n            <Text mark strong>\n              {moment(checkOutDate).format(\"MMMM Do YYYY\")}\n            </Text>\n            , inclusive.\n          </Paragraph>\n        </div>\n\n        <Divider />\n\n        <div className=\"listing-booking-modal__charge-summary\">\n          <Paragraph>\n            {formatListingPrice(price, false)} * {daysBooked} days ={\" \"}\n            <Text strong>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n          <Paragraph className=\"listing-booking-modal__charge-summary-total\">\n            Total = <Text mark>{formatListingPrice(listingPrice, false)}</Text>\n          </Paragraph>\n        </div>\n\n        <Divider />\n\n        <div className=\"listing-booking-modal__stripe-card-section\">\n          <CardElement\n            options={{ hidePostalCode: true }}\n            className=\"listing-booking-modal__stripe-card\"\n          />\n          <Button\n            size=\"large\"\n            type=\"primary\"\n            className=\"listing-booking-modal__cta\"\n            onClick={handleCreateBooking}\n            loading={loading}\n          >\n            Book\n          </Button>\n        </div>\n      </div>\n    </Modal>\n  );\n};\n\nexport { CreateBookingModal };\n","import { useState, useMemo } from \"react\";\nimport { useQuery } from \"@apollo/client\";\nimport { Moment } from \"moment\";\nimport { Col, Row, Layout } from \"antd\";\nimport { useParams } from \"react-router-dom\";\nimport { loadStripe } from \"@stripe/stripe-js\";\nimport { Elements } from \"@stripe/react-stripe-js\";\nimport { LISTING } from \"../../lib/graphql/queries\";\nimport {\n  Listing as ListingData,\n  ListingVariables,\n} from \"../../lib/graphql/queries/Listing/__generated__/Listing\";\nimport { PageSkeleton, ErrorBanner } from \"../../lib/components\";\nimport { ListingDetails } from \"./components/ListingDetails\";\nimport { ListingBookings } from \"./components/ListingBookings\";\nimport { CreateBooking } from \"./components/CreateBooking\";\nimport { CreateBookingModal } from \"./components/CreateBookingModal\";\nimport { Viewer } from \"../../lib/types\";\nimport { useScrollTop } from \"../../lib/hooks/useScrollTop\";\n\ninterface MatchParams {\n  id: string;\n}\n\ninterface Props {\n  viewer: Viewer;\n}\n\nconst PAGE_LIMIT = 3;\nconst { Content } = Layout;\n\nconst Listing = ({ viewer }: Props) => {\n  const [modalVisible, setModalVisible] = useState(false);\n  const [bookingsPage, setBookingsPage] = useState(1);\n  const [checkInDate, setCheckInDate] = useState<Moment | null>(null);\n  const [checkOutDate, setCheckOutDate] = useState<Moment | null>(null);\n  const stripePromise = useMemo(() => loadStripe(`${process.env.REACT_APP_S_PUBLISHABLE_KEY}`), []);\n\n  const { id } = useParams<MatchParams>();\n\n  const { loading, data, error, refetch } = useQuery<ListingData, ListingVariables>(LISTING, {\n    variables: {\n      id,\n      bookingsPage,\n      limit: PAGE_LIMIT,\n    },\n  });\n\n  useScrollTop();\n\n  const clearBookingData = () => {\n    setModalVisible(false);\n    setCheckInDate(null);\n    setCheckOutDate(null);\n  };\n\n  const handleListingRefetch = async () => {\n    await refetch();\n  };\n\n  if (loading) {\n    return (\n      <Content className=\"listings\">\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"listing\">\n        <ErrorBanner description=\"This listing may not exist or we've encountered an error.\" />\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  const listing = data ? data.listing : null;\n  const listingBookings = listing ? listing.bookings : null;\n\n  const listingDetailsElement = listing ? <ListingDetails listing={listing} /> : null;\n\n  const listingBookingsElement = listingBookings ? (\n    <ListingBookings\n      listingBookings={listingBookings}\n      bookingsPage={bookingsPage}\n      limit={PAGE_LIMIT}\n      setBookingsPage={setBookingsPage}\n    />\n  ) : null;\n\n  const createBookingElement = listing ? (\n    <CreateBooking\n      viewer={viewer}\n      price={listing.price}\n      host={listing.host}\n      bookingsIndex={listing.bookingsIndex}\n      checkInDate={checkInDate}\n      checkOutDate={checkOutDate}\n      setCheckInDate={setCheckInDate}\n      setCheckOutDate={setCheckOutDate}\n      setModalVisible={setModalVisible}\n    />\n  ) : null;\n\n  const listingCreateBookingModalElement =\n    listing && checkInDate && checkOutDate ? (\n      <Elements stripe={stripePromise}>\n        <CreateBookingModal\n          id={listing.id}\n          price={listing.price}\n          modalVisible={modalVisible}\n          checkInDate={checkInDate}\n          checkOutDate={checkOutDate}\n          setModalVisible={setModalVisible}\n          clearBookingData={clearBookingData}\n          handleListingRefetch={handleListingRefetch}\n        />\n      </Elements>\n    ) : null;\n\n  return (\n    <Content className=\"listings\">\n      <Row gutter={24} justify=\"space-between\">\n        <Col xs={24} lg={14}>\n          {listingDetailsElement}\n          {listingBookingsElement}\n        </Col>\n        <Col xs={24} lg={10}>\n          {createBookingElement}\n        </Col>\n      </Row>\n      {listingCreateBookingModalElement}\n    </Content>\n  );\n};\n\nexport { Listing };\n","import { Select } from \"antd\";\nimport { ListingsFilter } from \"../../../../lib/graphql/globalTypes\";\n\ninterface Props {\n  filter: ListingsFilter;\n  setFilter: (filter: ListingsFilter) => void;\n}\n\nconst { Option } = Select;\n\nconst ListingsFilters = ({ filter, setFilter }: Props) => {\n  return (\n    <div className=\"listings-filters\">\n      <span>Filter By</span>\n      <Select value={filter} onChange={(filter: ListingsFilter) => setFilter(filter)}>\n        <Option value={ListingsFilter.PRICE_LOW_TO_HIGH}>Price: Low to High</Option>\n        <Option value={ListingsFilter.PRICE_HIGH_TO_LOW}>Price: High to Low</Option>\n      </Select>\n    </div>\n  );\n};\n\nexport { ListingsFilters };\n","import { Pagination } from \"antd\";\n\ninterface Props {\n  total: number;\n  page: number;\n  limit: number;\n  setPage: (page: number) => void;\n}\n\nconst ListingsPagination = ({ total, page, limit, setPage }: Props) => {\n  return (\n    <Pagination\n      current={page}\n      total={total}\n      defaultPageSize={limit}\n      hideOnSinglePage\n      showLessItems\n      onChange={(page: number) => setPage(page)}\n      className=\"listings-pagination\"\n    />\n  );\n};\n\nexport { ListingsPagination };\n","import { Card, List, Skeleton } from \"antd\";\n\nimport listingLoadingCardCover from \"../../assets/listing-loading-card-cover.jpeg\";\n\nconst ListingsSkeleton = () => {\n  const emptyData = [{}, {}, {}, {}, {}, {}, {}, {}];\n\n  return (\n    <div>\n      <Skeleton paragraph={{ rows: 1 }} />\n      <List\n        grid={{\n          column: 4,\n          gutter: 8,\n          xs: 1,\n          sm: 2,\n          lg: 4,\n        }}\n        dataSource={emptyData}\n        renderItem={() => (\n          <List.Item>\n            <Card\n              cover={\n                <div\n                  style={{ backgroundImage: `url(${listingLoadingCardCover})` }}\n                  className=\"listings-skeleton__card-cover-img\"\n                ></div>\n              }\n              loading\n              className=\"listings-skeleton__card\"\n            />\n          </List.Item>\n        )}\n      />\n    </div>\n  );\n};\n\nexport { ListingsSkeleton };\n","export default \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAAAoEAAAGsCAYAAACiiX3NAAABYWlDQ1BrQ0dDb2xvclNwYWNlRGlzcGxheVAzAAAokWNgYFJJLCjIYWFgYMjNKykKcndSiIiMUmB/yMAOhLwMYgwKicnFBY4BAT5AJQwwGhV8u8bACKIv64LMOiU1tUm1XsDXYqbw1YuvRJsw1aMArpTU4mQg/QeIU5MLikoYGBhTgGzl8pICELsDyBYpAjoKyJ4DYqdD2BtA7CQI+whYTUiQM5B9A8hWSM5IBJrB+API1klCEk9HYkPtBQFul8zigpzESoUAYwKuJQOUpFaUgGjn/ILKosz0jBIFR2AopSp45iXr6SgYGRiaMzCAwhyi+nMgOCwZxc4gxJrvMzDY7v////9uhJjXfgaGjUCdXDsRYhoWDAyC3AwMJ3YWJBYlgoWYgZgpLY2B4dNyBgbeSAYG4QtAPdHFacZGYHlGHicGBtZ7//9/VmNgYJ/MwPB3wv//vxf9//93MVDzHQaGA3kAFSFl7jXH0fsAAAFZaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA1LjQuMCI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIj4KICAgICAgICAgPHRpZmY6T3JpZW50YXRpb24+MTwvdGlmZjpPcmllbnRhdGlvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CkzCJ1kAABcgSURBVHgB7daxDYAwEARBm9yI/qtEUIARdex8BzuX/BiOAAECBAgQIEAgJzD/4vt5d65cMAECBAgQIEAgKnCdax7RdtkECBAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAIG0gCcwPb94AgQIECBAoCrgCawur5sAAQIECBBIC3gC0/OLJ0CAAAECBKoCnsDq8roJECBAgACBtIAnMD2/eAIECBAgQKAq4AmsLq+bAAECBAgQSAt4AtPziydAgAABAgSqAp7A6vK6CRAgQIAAgbSAJzA9v3gCBAgQIECgKuAJrC6vmwABAgQIEEgLeALT84snQIAAAQIEqgKewOryugkQIECAAAECBAgQIECAAAECBFoCH+giB1TBDI5HAAAAAElFTkSuQmCC\"","import { useState, useEffect, useRef } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\nimport { Affix, Layout, List, Typography } from \"antd\";\nimport { ListingCard, ErrorBanner } from \"../../lib/components\";\nimport { LISTINGS } from \"../../lib/graphql/queries\";\nimport {\n  Listings as ListingsData,\n  ListingsVariables,\n} from \"../../lib/graphql/queries/Listings/__generated__/Listings\";\nimport { ListingsFilter } from \"../../lib/graphql/globalTypes\";\nimport { ListingsFilters, ListingsPagination, ListingsSkeleton } from \"./components\";\nimport { useScrollTop } from \"../../lib/hooks/useScrollTop\";\n\ninterface MatchParams {\n  location: string;\n}\n\nconst { Content } = Layout;\nconst { Paragraph, Text, Title } = Typography;\nconst { Item } = List;\n\nconst PAGE_LIMIT = 4;\n\nexport const Listings = () => {\n  const { location } = useParams<MatchParams>();\n  const locationRef = useRef(location);\n  const [filter, setFilter] = useState(ListingsFilter.PRICE_LOW_TO_HIGH);\n  const [page, setPage] = useState(1);\n\n  const { data, loading, error } = useQuery<ListingsData, ListingsVariables>(LISTINGS, {\n    skip: locationRef.current !== location && page !== 1,\n    variables: {\n      location,\n      filter,\n      limit: PAGE_LIMIT,\n      page,\n    },\n  });\n\n  useScrollTop();\n\n  useEffect(() => {\n    setPage(1);\n    locationRef.current = location;\n  }, [location]);\n\n  if (loading) {\n    return (\n      <Content className=\"listings\">\n        <ListingsSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"listings\">\n        <ErrorBanner\n          description={`\n            We either couldn't find anything matching your search or have encountered an error.\n            If you're searching for a unique location, try searching again with more common keywords.\n          `}\n        />\n        <ListingsSkeleton />\n      </Content>\n    );\n  }\n\n  const listings = data ? data.listings : null;\n  const listingsRegion = listings ? listings.region : null;\n\n  const listingsSectionElement =\n    listings && listings.result.length ? (\n      <div>\n        <Affix offsetTop={64}>\n          <ListingsPagination\n            total={listings.total}\n            page={page}\n            limit={PAGE_LIMIT}\n            setPage={setPage}\n          />\n          <ListingsFilters filter={filter} setFilter={setFilter} />\n        </Affix>\n        <List\n          grid={{\n            column: 4,\n            gutter: 8,\n            xs: 1,\n            sm: 2,\n            lg: 4,\n          }}\n          dataSource={listings.result}\n          renderItem={(listing) => (\n            <Item>\n              <ListingCard listing={listing} />\n            </Item>\n          )}\n        />\n      </div>\n    ) : (\n      <div>\n        <Paragraph>\n          It appears that no listings have yet been created for <Text mark>\"{listingsRegion}\"</Text>\n        </Paragraph>\n        <Paragraph>\n          Be the first person to create a <Link to=\"/host\">listing in this area</Link>!\n        </Paragraph>\n      </div>\n    );\n\n  const listingsRegionElement = listingsRegion ? (\n    <Title level={3} className=\"listings__title\">\n      Results for \"{listingsRegion}\"\n    </Title>\n  ) : null;\n\n  return (\n    <Content className=\"listings\">\n      {listingsRegionElement}\n      {listingsSectionElement}\n    </Content>\n  );\n};\n","import { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { Empty, Layout, Typography } from \"antd\";\n\nconst { Content } = Layout;\nconst { Text } = Typography;\n\nconst NotFound = () => {\n  return (\n    <Content className=\"not-found\">\n      <Empty\n        description={\n          <Fragment>\n            <Text className=\"not-found__description-title\">Uh oh! Something went wrong :(</Text>\n            <Text className=\"not-found__description-subtitle\">\n              The page you're looking for can't be found\n            </Text>\n          </Fragment>\n        }\n      />\n      <Link to=\"/\" className=\"not-found__cta ant-btn ant-btn-primary ant-btn-lg\">\n        Go to Home\n      </Link>\n    </Content>\n  );\n};\n\nexport { NotFound };\n","import { Fragment } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { Avatar, Card, Divider, Typography, Button, Tag } from \"antd\";\nimport { User as UserData } from \"../../../../lib/graphql/queries/User/__generated__/User\";\nimport { DisconnectStripe as DisconnectStripeData } from \"../../../../lib/graphql/mutations/DisconnectStripe/__generated__/DisconnectStripe\";\nimport {\n  formatListingPrice,\n  displayErrorMessage,\n  displaySuccessNotification,\n} from \"../../../../lib/utils\";\nimport { DISCONNECT_STRIPE } from \"../../../../lib/graphql/mutations\";\nimport { Viewer } from \"../../../../lib/types\";\n\nconst { Paragraph, Text, Title } = Typography;\n\nconst stripeAuthUrl = `https://connect.stripe.com/oauth/authorize?response_type=code&client_id=${process.env.REACT_APP_S_CLIENT_ID}&scope=read_write`;\n\ninterface Props {\n  user: UserData[\"user\"];\n  viewer: Viewer;\n  viewerIsUser: boolean;\n  setViewer: (viewer: Viewer) => void;\n  handleUserRefetch: () => void;\n}\n\nconst UserProfile = ({ user, viewerIsUser, viewer, setViewer, handleUserRefetch }: Props) => {\n  const [disconnectStripe, { loading }] = useMutation<DisconnectStripeData>(DISCONNECT_STRIPE, {\n    onCompleted: (data) => {\n      if (data && data.disconnectStripe) {\n        setViewer({ ...viewer, hasWallet: data.disconnectStripe.hasWallet });\n        displaySuccessNotification(\n          \"You've successfully disconnected from Stripe!\",\n          \"You'll have to reconnect with Stripe to continue to create listings.\"\n        );\n        handleUserRefetch();\n      }\n    },\n    onError: () => {\n      displayErrorMessage(\n        \"Sorry! We weren't able to disconnect you from Stripe. Please try again later!\"\n      );\n    },\n  });\n\n  const redirectToStripe = () => {\n    window.location.href = stripeAuthUrl;\n  };\n\n  const additionalDetails = user.hasWallet ? (\n    <Fragment>\n      <Paragraph>\n        <Tag color=\"green\">Stripe Registered</Tag>\n      </Paragraph>\n      <Paragraph>\n        Income Earned: <Text strong>{user.income ? formatListingPrice(user.income) : `$0`}</Text>\n      </Paragraph>\n      <Button\n        type=\"primary\"\n        className=\"user-profile__details-cta\"\n        loading={loading}\n        onClick={() => disconnectStripe()}\n      >\n        Disconnect Stripe\n      </Button>\n      <Paragraph type=\"secondary\">\n        By disconnecting, you won't be able to receive <Text strong>any further payments</Text>.\n        This will prevent users from booking listings that you might have already created.\n      </Paragraph>\n    </Fragment>\n  ) : (\n    <Fragment>\n      <Paragraph>\n        Interested in becoming a TinyHouse host? Register with your Stripe account!\n      </Paragraph>\n      <Button type=\"primary\" className=\"user-profile__details-cta\" onClick={redirectToStripe}>\n        Connect with Stripe\n      </Button>\n      <Paragraph type=\"secondary\">\n        TinyHouse uses{\" \"}\n        <a href=\"https://stripe.com/en-US/connect\" target=\"_blank\" rel=\"noopener noreferrer\">\n          Stripe\n        </a>{\" \"}\n        to help transfer your earnings in a secure and truster manner.\n      </Paragraph>\n    </Fragment>\n  );\n\n  const additionalDetailsSection = viewerIsUser ? (\n    <Fragment>\n      <Divider />\n      <div className=\"user-profile__details\">\n        <Title level={4}>Additional Details</Title>\n        {additionalDetails}\n      </div>\n    </Fragment>\n  ) : null;\n\n  return (\n    <div className=\"user-profile\">\n      <Card className=\"user-profile__card\">\n        <div className=\"user-profile__avatar\">\n          <Avatar size={100} src={user.avatar} />\n        </div>\n        <Divider />\n        <div className=\"user-profile__details\">\n          <Title level={4}>Details</Title>\n          <Paragraph>\n            Name: <Text strong>{user.name}</Text>\n          </Paragraph>\n          <Paragraph>\n            Contact: <Text strong>{user.contact}</Text>\n          </Paragraph>\n        </div>\n        {additionalDetailsSection}\n      </Card>\n    </div>\n  );\n};\n\nexport { UserProfile };\n","import { List, Typography } from \"antd\";\nimport { ListingCard } from \"../../../../lib/components\";\nimport { User } from \"../../../../lib/graphql/queries/User/__generated__/User\";\n\ninterface Props {\n  userListings: User[\"user\"][\"listings\"];\n  listingsPage: number;\n  limit: number;\n  setListingsPage: (page: number) => void;\n}\n\nconst { Paragraph, Title } = Typography;\nconst { Item } = List;\n\nconst UserListings = ({ userListings, listingsPage, limit, setListingsPage }: Props) => {\n  const { total, result } = userListings;\n\n  const userListingsList = (\n    <List\n      grid={{\n        column: 4,\n        gutter: 8,\n        xs: 1,\n        sm: 2,\n        lg: 4,\n      }}\n      dataSource={result}\n      locale={{ emptyText: \"User doesn't have any listings yet!\" }}\n      pagination={{\n        position: \"top\",\n        current: listingsPage,\n        total,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setListingsPage(page),\n      }}\n      renderItem={(userListing) => (\n        <Item>\n          <ListingCard listing={userListing} />\n        </Item>\n      )}\n    />\n  );\n\n  return (\n    <div className=\"user-listings\">\n      <Title level={4} className=\"user-listings__title\">\n        Listings\n      </Title>\n      <Paragraph className=\"user-listings__description\">\n        This section highlights the listings this user currently hosts and has made available for\n        bookings.\n      </Paragraph>\n      {userListingsList}\n    </div>\n  );\n};\n\nexport { UserListings };\n","import { List, Typography } from \"antd\";\nimport { ListingCard } from \"../../../../lib/components\";\nimport { User } from \"../../../../lib/graphql/queries/User/__generated__/User\";\n\ninterface Props {\n  userBookings: User[\"user\"][\"bookings\"];\n  bookingsPage: number;\n  limit: number;\n  setBookingsPage: (page: number) => void;\n}\n\nconst { Paragraph, Text, Title } = Typography;\n\nconst UserBookings = ({ userBookings, bookingsPage, limit, setBookingsPage }: Props) => {\n  const total = userBookings ? userBookings.total : null;\n  const result = userBookings ? userBookings.result : null;\n\n  const userBookingsList = userBookings ? (\n    <List\n      grid={{\n        column: 4,\n        gutter: 8,\n        xs: 1,\n        sm: 2,\n        lg: 4,\n      }}\n      dataSource={result ? result : undefined}\n      locale={{ emptyText: \"You haven't made any bookings!\" }}\n      pagination={{\n        position: \"top\",\n        current: bookingsPage,\n        total: total ? total : undefined,\n        defaultPageSize: limit,\n        hideOnSinglePage: true,\n        showLessItems: true,\n        onChange: (page: number) => setBookingsPage(page),\n      }}\n      renderItem={(userBooking) => {\n        const bookingHistory = (\n          <div className=\"user-bookings__booking-history\">\n            <div>\n              Check in: <Text strong>{userBooking.checkIn}</Text>\n            </div>\n            <div>\n              Check out: <Text strong>{userBooking.checkOut}</Text>\n            </div>\n          </div>\n        );\n\n        return (\n          <List.Item>\n            {bookingHistory}\n            <ListingCard listing={userBooking.listing} />\n          </List.Item>\n        );\n      }}\n    />\n  ) : null;\n\n  const userBookingsElement = userBookingsList ? (\n    <div className=\"user-bookings\">\n      <Title level={4} className=\"user-bookings__title\">\n        Bookings\n      </Title>\n      <Paragraph className=\"user-bookings__description\">\n        This section highlights the bookings you've made, and the check-in/check-out dates\n        associated with said bookings.\n      </Paragraph>\n      {userBookingsList}\n    </div>\n  ) : null;\n\n  return userBookingsElement;\n};\n\nexport { UserBookings };\n","import { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/client\";\nimport { Col, Layout, Row } from \"antd\";\nimport { USER } from \"../../lib/graphql/queries\";\nimport { User as UserData, UserVariables } from \"../../lib/graphql/queries/User/__generated__/User\";\nimport { Viewer } from \"../../lib/types\";\nimport { PageSkeleton, ErrorBanner } from \"../../lib/components\";\nimport { UserProfile, UserListings, UserBookings } from \"./components\";\nimport { useScrollTop } from \"../../lib/hooks/useScrollTop\";\n\nconst { Content } = Layout;\nconst PAGE_LIMIT = 4;\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\ninterface MatchParams {\n  id: string;\n}\n\nconst User = ({ viewer, setViewer }: Props) => {\n  const [listingsPage, setListingsPage] = useState(1);\n  const [bookingsPage, setBookingsPage] = useState(1);\n  const { id } = useParams<MatchParams>();\n  const { data, loading, error, refetch } = useQuery<UserData, UserVariables>(USER, {\n    variables: {\n      id,\n      bookingsPage,\n      listingsPage,\n      limit: PAGE_LIMIT,\n    },\n    fetchPolicy: \"cache-and-network\",\n  });\n\n  useScrollTop();\n\n  const handleUserRefetch = async () => {\n    await refetch();\n  };\n\n  const stripeError = new URL(window.location.href).searchParams.get(\"stripe_error\");\n  const stripeErrorBanner = stripeError ? (\n    <ErrorBanner description=\"We had an issue connecting with Stripe. Please try again soon.\" />\n  ) : null;\n\n  if (loading) {\n    return (\n      <Content className=\"user\">\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return (\n      <Content className=\"user\">\n        <ErrorBanner description=\"This user may not exist or we've encountered an error.\" />\n        <PageSkeleton />\n      </Content>\n    );\n  }\n\n  const user = data ? data.user : null;\n  const viewerIsUser = viewer.id === id;\n  const userListings = user ? user.listings : null;\n  const userBookings = user ? user.bookings : null;\n\n  const userProfileElement = user ? (\n    <UserProfile\n      user={user}\n      viewerIsUser={viewerIsUser}\n      viewer={viewer}\n      setViewer={setViewer}\n      handleUserRefetch={handleUserRefetch}\n    />\n  ) : null;\n\n  const userListingsElement = userListings ? (\n    <UserListings\n      userListings={userListings}\n      listingsPage={listingsPage}\n      limit={PAGE_LIMIT}\n      setListingsPage={setListingsPage}\n    />\n  ) : null;\n\n  const userBookingsElement = userBookings ? (\n    <UserBookings\n      userBookings={userBookings}\n      bookingsPage={bookingsPage}\n      limit={PAGE_LIMIT}\n      setBookingsPage={setBookingsPage}\n    />\n  ) : null;\n\n  return (\n    <Content className=\"user\">\n      {stripeErrorBanner}\n      <Row gutter={12} justify=\"space-between\">\n        <Col xs={24}>{userProfileElement}</Col>\n        <Col xs={24}>{userListingsElement}</Col>\n        <Col xs={24}>{userBookingsElement}</Col>\n      </Row>\n    </Content>\n  );\n};\n\nexport { User };\n","import { Redirect } from \"react-router-dom\";\nimport { Card, Layout, Typography, Spin } from \"antd\";\nimport { ErrorBanner } from \"../../lib/components/ErrorBanner\";\nimport { Viewer } from \"../../lib/types\";\nimport googleLogo from \"./assets/google_logo.jpg\";\nimport linkedInLogo from \"./assets/linkedIn_logo.jpg\";\nimport { useGoogleLogin } from \"../../lib/hooks/useGoogleLogin\";\nimport { useLinkedInLogin } from \"../../lib/hooks/useLinkedInLogin\";\nimport { LogInGoogle as LogInGoogleData } from \"../../lib/graphql/mutations/GoogleLogin/__generated__/LogInGoogle\";\nimport { LogInLinkedIn as LogInLinkedInData } from \"../../lib/graphql/mutations/LinkedInLogin/__generated__/LogInLinkedIn\";\nimport { displaySuccessNotification } from \"../../lib/utils\";\nimport { useScrollTop } from \"../../lib/hooks/useScrollTop\";\n\ninterface LoginProps {\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Content } = Layout;\nconst { Text, Title } = Typography;\n\nconst Login = ({ setViewer }: LoginProps) => {\n  const onCompletedGoogle = (data: LogInGoogleData) => {\n    if (data && data.logInGoogle && data.logInGoogle.token) {\n      setViewer(data.logInGoogle);\n      sessionStorage.setItem(\"token\", data.logInGoogle.token);\n      displaySuccessNotification(\"You've successfully logged in!\");\n      sessionStorage.removeItem(\"loginType\");\n    }\n  };\n\n  const onCompletedLinkedIn = (data: LogInLinkedInData) => {\n    if (data && data.logInLinkedIn && data.logInLinkedIn.token) {\n      setViewer(data.logInLinkedIn);\n      sessionStorage.setItem(\"token\", data.logInLinkedIn.token);\n      displaySuccessNotification(\"You've successfully logged in!\");\n      sessionStorage.removeItem(\"loginType\");\n    }\n  };\n\n  const { loadGoogleAuthUrl, logInGoogleData, logInGoogleError, logInGoogleLoading } =\n    useGoogleLogin({\n      onCompleted: onCompletedGoogle,\n    });\n\n  const { loadLinkedInAuthUrl, logInLinkedInData, logInLinkedInError, logInLinkedInLoading } =\n    useLinkedInLogin({\n      onCompleted: onCompletedLinkedIn,\n    });\n\n  useScrollTop();\n\n  if (logInGoogleLoading || logInLinkedInLoading) {\n    return (\n      <Content className=\"log-in\">\n        <Spin size=\"large\" tip=\"Loggin you in...\" />\n      </Content>\n    );\n  }\n\n  if (logInGoogleData?.logInGoogle) {\n    const { id: viewerId } = logInGoogleData.logInGoogle;\n    return <Redirect to={`/user/${viewerId}`} />;\n  }\n\n  if (logInLinkedInData?.logInLinkedIn) {\n    const { id: viewerId } = logInLinkedInData.logInLinkedIn;\n    return <Redirect to={`/user/${viewerId}`} />;\n  }\n\n  const logInErrorBannerElement =\n    logInGoogleError || logInLinkedInError ? (\n      <ErrorBanner description=\"We weren't able to log you in.\" />\n    ) : null;\n\n  return (\n    <Content className=\"log-in\">\n      {logInErrorBannerElement}\n      <Card className=\"log-in-card\">\n        <div className=\"log-in-card__intro\">\n          <Title level={3} className=\"log-in-card__intro-title\">\n            <span role=\"img\" aria-label=\"wave\">\n              👋\n            </span>\n          </Title>\n          <Title level={3} className=\"log-in-card__intro-title\">\n            Login to NTRPDB!\n          </Title>\n        </div>\n        <button\n          className=\"log-in-card__button log-in-card__google\"\n          onClick={() => {\n            sessionStorage.setItem(\"loginType\", \"google\");\n            loadGoogleAuthUrl();\n          }}\n        >\n          <img src={googleLogo} alt=\"Google Logo\" className=\"log-in-card__button-logo\" />\n          <span className=\"log-in-card__button-text\">Sign in with Google</span>\n        </button>\n        <button\n          className=\"log-in-card__button log-in-card__linkedin\"\n          onClick={() => {\n            sessionStorage.setItem(\"loginType\", \"linkedIn\");\n            loadLinkedInAuthUrl();\n          }}\n        >\n          <img src={linkedInLogo} alt=\"LinkedIn Logo\" className=\"log-in-card__button-logo\" />\n          <span className=\"log-in-card__button-text\">Sign in with LinkedIn</span>\n        </button>\n        <Text type=\"secondary\">\n          Note: By signing in, you'll be redirected to the consent form to sign in with your\n          account.\n        </Text>\n      </Card>\n    </Content>\n  );\n};\n\nexport { Login };\n","import { useEffect, useRef } from \"react\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport { GOOGLE_AUTH_URL } from \"../../graphql/queries\";\nimport { LOG_IN_GOOGLE } from \"../../graphql/mutations\";\nimport {\n  LogInGoogle as LogInGoogleData,\n  LogInGoogleVariables,\n} from \"../../graphql/mutations/GoogleLogin/__generated__/LogInGoogle\";\nimport { displayErrorMessage } from \"../../utils\";\n\ninterface useGoogleLoginProps {\n  onCompleted: (data: LogInGoogleData) => void;\n}\n\nconst useGoogleLogin = ({ onCompleted }: useGoogleLoginProps) => {\n  const [loadGoogleAuthUrl, { data: googleAuthUrlData, error: googleAuthUrlError }] =\n    useLazyQuery(GOOGLE_AUTH_URL);\n\n  const [\n    logInGoogle,\n    { data: logInGoogleData, loading: logInGoogleLoading, error: logInGoogleError },\n  ] = useMutation<LogInGoogleData, LogInGoogleVariables>(LOG_IN_GOOGLE, {\n    onCompleted,\n    onError: () => {\n      displayErrorMessage(\"We weren't able to log you in.\");\n    },\n  });\n\n  const logInGoogleRef = useRef(logInGoogle);\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get(\"code\");\n    const loginType = sessionStorage.getItem(\"loginType\");\n    if (code && loginType === \"google\") {\n      logInGoogleRef.current({\n        variables: {\n          input: { code },\n        },\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (googleAuthUrlData?.googleAuthUrl) {\n      return (window.location.href = googleAuthUrlData.googleAuthUrl);\n    }\n    if (googleAuthUrlError) {\n      displayErrorMessage(\"We weren't able to log you in.\");\n    }\n  }, [googleAuthUrlData, googleAuthUrlError]);\n\n  return { loadGoogleAuthUrl, logInGoogleData, logInGoogleLoading, logInGoogleError };\n};\n\nexport { useGoogleLogin };\n","import { useEffect, useRef } from \"react\";\nimport { useLazyQuery, useMutation } from \"@apollo/client\";\nimport { LINKEDIN_AUTH_URL } from \"../../graphql/queries\";\nimport { LOG_IN_LINKEDIN } from \"../../graphql/mutations\";\nimport {\n  LogInLinkedIn as LogInLinkedInData,\n  LogInLinkedInVariables,\n} from \"../../graphql/mutations/LinkedInLogin/__generated__/LogInLinkedIn\";\nimport { displayErrorMessage } from \"../../utils\";\n\ninterface useLinkedInLoginProps {\n  onCompleted: (data: LogInLinkedInData) => void;\n}\n\nconst useLinkedInLogin = ({ onCompleted }: useLinkedInLoginProps) => {\n  const [loadLinkedInAuthUrl, { data: linkedInAuthUrlData, error: linkedInAuthUrlError }] =\n    useLazyQuery(LINKEDIN_AUTH_URL);\n\n  const [\n    logInLinkedIn,\n    { data: logInLinkedInData, loading: logInLinkedInLoading, error: logInLinkedInError },\n  ] = useMutation<LogInLinkedInData, LogInLinkedInVariables>(LOG_IN_LINKEDIN, {\n    onCompleted,\n    onError: () => {\n      displayErrorMessage(\"We weren't able to log you in.\");\n    },\n  });\n\n  const logInLinkedInRef = useRef(logInLinkedIn);\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get(\"code\");\n    const loginType = sessionStorage.getItem(\"loginType\");\n    if (code && loginType === \"linkedIn\") {\n      logInLinkedInRef.current({\n        variables: {\n          input: { code },\n        },\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    if (linkedInAuthUrlData?.linkedInAuthUrl) {\n      return (window.location.href = linkedInAuthUrlData.linkedInAuthUrl);\n    }\n    if (linkedInAuthUrlError) {\n      displayErrorMessage(\"We weren't able to log you in.\");\n    }\n  }, [linkedInAuthUrlData, linkedInAuthUrlError]);\n\n  return { loadLinkedInAuthUrl, logInLinkedInData, logInLinkedInLoading, logInLinkedInError };\n};\n\nexport { useLinkedInLogin };\n","export default \"data:image/jpeg;base64,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\"","export default \"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAASABIAAD/4QCMRXhpZgAATU0AKgAAAAgABQESAAMAAAABAAEAAAEaAAUAAAABAAAASgEbAAUAAAABAAAAUgEoAAMAAAABAAIAAIdpAAQAAAABAAAAWgAAAAAAAABIAAAAAQAAAEgAAAABAAOgAQADAAAAAQABAACgAgAEAAAAAQAAAG+gAwAEAAAAAQAAAG4AAAAA/+0AOFBob3Rvc2hvcCAzLjAAOEJJTQQEAAAAAAAAOEJJTQQlAAAAAAAQ1B2M2Y8AsgTpgAmY7PhCfv/CABEIAG4AbwMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAADAgQBBQAGBwgJCgv/xADDEAABAwMCBAMEBgQHBgQIBnMBAgADEQQSIQUxEyIQBkFRMhRhcSMHgSCRQhWhUjOxJGIwFsFy0UOSNIII4VNAJWMXNfCTc6JQRLKD8SZUNmSUdMJg0oSjGHDiJ0U3ZbNVdaSVw4Xy00Z2gONHVma0CQoZGigpKjg5OkhJSldYWVpnaGlqd3h5eoaHiImKkJaXmJmaoKWmp6ipqrC1tre4ubrAxMXGx8jJytDU1dbX2Nna4OTl5ufo6erz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAECAAMEBQYHCAkKC//EAMMRAAICAQMDAwIDBQIFAgQEhwEAAhEDEBIhBCAxQRMFMCIyURRABjMjYUIVcVI0gVAkkaFDsRYHYjVT8NElYMFE4XLxF4JjNnAmRVSSJ6LSCAkKGBkaKCkqNzg5OkZHSElKVVZXWFlaZGVmZ2hpanN0dXZ3eHl6gIOEhYaHiImKkJOUlZaXmJmaoKOkpaanqKmqsLKztLW2t7i5usDCw8TFxsfIycrQ09TV1tfY2drg4uPk5ebn6Onq8vP09fb3+Pn6/9sAQwACAwMDBAMEBQUEBgYGBgYICAcHCAgNCQoJCgkNEwwODAwODBMRFBEPERQRHhgVFRgeIx0cHSMqJSUqNTI1RUVc/9sAQwECAwMDBAMEBQUEBgYGBgYICAcHCAgNCQoJCgkNEwwODAwODBMRFBEPERQRHhgVFRgeIx0cHSMqJSUqNTI1RUVc/9oADAMBAAIRAxEAAAH7+21bbVttW21bbVttW21bbVtuM0y7PfNcet4f0rvmrG+ld81SL6U3L9R5Hu7bJpttW+Vfqr5U9/5vwLv+S+s/s/z/AOONO9v56NsR9LfSnzV9K/lf7Ltt4v0O21b5U+q/lT3/AJvw77F+PvvP3/mfnv1biOV4+76E+Lvo3zDXHrvpX5q+lfD+h228T6Hbat8qfVfyp7/zfiX3l+f3Z/X/AA3tXEebtCv0r5354xDe/wD0r81fSvxn3m23ifQ7bVvN/SNtz/I2+ud7fz3yNvrnV8jT9cauG7nbw/o9tstttq22rbattq22rbattq//2gAIAQEAAQUC/wB9u47lBZR/0tf9LX/S1/0tf9LX/Sx2N9DeQ/e8V/4yBVzbLuMUH3PCX3/Ff+M20vKuLnf9v91+54S+/wCK/wDGYQDNe7VtyLPw5ZWlxH+g9tFxLtu3zI3GzNpd+Evv+K/8Zt/3+4f4h4T/AHXimVZvPC8i1Wfif/aj4S+/4r/xm3/f7h/iHhP914n/ANqPhX/FvE/+1Hwl9/xX/jIJBXu+5LRbX13bC4uZ7hdtf3dum4uZ7hfhL7+7bUm+j/otfv8Aotfv+i1+/wCi1+/6LX7/AKLX72vbUWMH++3/2gAIAQMRAT8B+hkyQxwMpyqI8l/vz4v/AHf/AOLZf7yf78+L/wB3/wDi2X+8n++/i/8Ad/8A4tP+8mE4TgJRNg+Dr87/ALpmX/gn/avx3S9Dmw5zmzbDEfby1p8J/ul4P+Cv9qdfnf8AdMy/8E/7V+CxYp9J1ZlCJoeo/o45dLg+GwZp9PGZ/wAHrb8vHBn+MxdSMYjIkPwf+6Xg/wCCv/Qjr87/ALpmX/gn/avxfyWHpcGeE4yJn4py/I4Z/FY+nEZbonz6Ob5LDP4rH04jLdE+fR+D/wB0vB/wV/6Edc2HHmxyhONxPkP+2/8AG/4kv+Jn/bf+N/xJf8TP+2/8b/iS/wCJnFihixxhAVEeB9H/2gAIAQIRAT8B+hjxzyTEYiyfAf7o+Q/3Z/4uD/dHyH+7P/Fwf7o+Q/3Z/wCLgzhKEjGQojyNfhv91DH/AIJf7R67qOsxZcIxYtwJ51+X/wB1DN/m/wBpr8N/uoY/8Ev9o/MZMkeo6URmRZ9C5R1Gb5XLijmlAf78fjDmw/IZcByGUQC/L/7qOb/N/tNfhv8AdQx/4Jf7R+Q6DL1GXDKMojZ5tx9Dkj8lPPuG0jx6uLocsfkZ590dpHj1fl/91HN/m/2muLLkxZIzgakH++uv/wAaP+s/311/+NH/AFn++uv/AMaP+s5Mk8k5SkbJ8/R//9oACAEBAAY/Av8AfaFL1J9lI83/AIp/vf8AoP8AxT/e/wDQf+Kf73/oP/FP97/0H/in+9/6D/xT/e/9B8yP5EHiD9+3/wB1n+HtzVRaAVOuo+7d/wCR/X9+D/dZ/hcUlK4LBp8msoXkop0RTX7fu3f+R/X9+D/dZ/hcYP7Sf4XOpNsgERqI0c5lhSuhTSvyfNMacaCiPy19XQwI+YFHJFWtOB9QXd/5H9f34P8AdZ/hcX9tP8Luf91K/gdz/aT/AAOOOvSI60+JcqSdEyafaGP91J/rd3/kf1/fg/3Wf4XF/bT/AAu5/wB1K/gdz/aT/A0/7qT/AAl3H+7P6mP91J/hLu/8j+v78H+6z/CwR5NSVXCiCKHg1CKUorxo8pVlRpSpZEUpSCamlHnKsqNKVLu/8j+v76erFaeB/qL/AHkP4n+4/wB5D+J/uP8AeQ/if7j/AHkP4n+4/wB5D+J/uP8Aew/if7jKQclKNVH/AH3f/8QAMxABAAMAAgICAgIDAQEAAAILAREAITFBUWFxgZGhscHw0RDh8SAwQFBgcICQoLDA0OD/2gAIAQEAAT8h/wD1aLi9ORDn4Cw//DmZmDOu29CH8MH/APGn/B4VEASvBVYsiFDyn/4Ux8//AMd/jPCix9xpTdkOJBJPLgoMEdAWHx/+U3+M8KaEiSekVZNgcEOa5oNDMTSsOC4OSUdtzPpgEfCVIQQfqD/+Q3+M8L/ifD/pSSCwj0kSf1VIMI+AGL/ifP8A+Qb/ABnhf8T4f/gKSkfrf4//AJLxv8Z4V2IUI+za4GwRofqiDmOGx8jRMVsHB1kWHbo5HjsbgS2Dg6yLw/8Ax6Od+ckR5/8AxHLly5cifaLgig4l8Ho//V3/2gAMAwEAAhEDEQAAEAAAAAAAAAhzTygAFVwgawAFof76QAFHCsqQAEwww4QAAAAAAAP/xAAzEQEBAQADAAECBQUBAQABAQkBABEhMRBBUWEgcfCRgaGx0cHh8TBAUGBwgJCgsMDQ4P/aAAgBAxEBPxD/AOB/C6nRfZw+zh9rI159DpPf63+xdJ9GD47x7/IlfHX1sS/pfV/W/wBiYChiCnLrYmGeBBqWa49XRrSDcdEU7NOL+h9H9b/YhkDiAhwnOv3jONig4av1+8WwRUHRX6/e/o/QdYuJ+9/7q/8AdX/uoIJcD4/+P//aAAgBAhEBPxD/AOCD3YHbfpf5b9P/AC33f6fvJZVidj7+ofVdofuL89adfn7/AFf9v39Q+qBBpohvJ3ktsnKK4YeDS7YwC5piJvXDf1P9v39Q+qA8JQnXkeMH6STXEDfgH0+0r0UAXsB9Ptf1P9v1wLdG/wDI3/kb/wAjOXXqfn/4/wD/2gAIAQEAAT8Q/wD1bFSkKYSpYOwt9m8PO8PO8PO8PO6xAJ1Cv8afQsQBE4ScMiYn/wCOBSwMHzZKyAAlVYADlXgptGQD5R8B3Cx/+FBSwLHtP9f/AMh8BgprqKN78e6NpETkaIoCdfxYwF4A8EVBiU/FIZhGOYR/j/nD5/8A5G+CKuHCAj6RsdzVq6g9jUQZEoSIfLUQ/QCClmEkAcIsrbmWXDHR8JVKLVARS0d8j7Lw+f8A+TvpX+V8v+OvkXTqWI4UIj1Zi6k8yjwSqFAZ8zX4fP8A/J30pn+Ly/8AwuvQ4Hh8/wD8jfNEFTkSD9JUSiGEcIwXSkQEA5CBeoUqjKARlMRArQh4AQASfEIp0DIARlMRArf2f/x7oWnEJgCMMCJo/wD4urVq1awkAnUTPiFjIphCIA2A4/P/AOrv/9k=\"","import { useEffect, useRef } from \"react\";\nimport { Redirect, useHistory } from \"react-router-dom\";\nimport { useMutation } from \"@apollo/client\";\nimport { Layout, Spin } from \"antd\";\nimport { CONNECT_STRIPE } from \"../../lib/graphql/mutations\";\nimport {\n  ConnectStripe as ConnectStripeData,\n  ConnectStripeVariables,\n} from \"../../lib/graphql/mutations/ConnectStripe/__generated__/ConnectStripe\";\nimport { displaySuccessNotification } from \"../../lib/utils\";\nimport { Viewer } from \"../../lib/types\";\nimport { useScrollTop } from \"../../lib/hooks/useScrollTop\";\n\ninterface Props {\n  viewer: Viewer;\n  setViewer: (viewer: Viewer) => void;\n}\n\nconst { Content } = Layout;\n\nconst Stripe = ({ viewer, setViewer }: Props) => {\n  const [connectStripe, { data, loading, error }] = useMutation<\n    ConnectStripeData,\n    ConnectStripeVariables\n  >(CONNECT_STRIPE, {\n    onCompleted: (data) => {\n      if (data && data.connectStripe) {\n        setViewer({ ...viewer, hasWallet: data.connectStripe.hasWallet });\n        displaySuccessNotification(\n          \"You've successfully connected your Stripe Account!\",\n          \"You can now begin to create listings in the Host page.\"\n        );\n      }\n    },\n  });\n  const connectStripeRef = useRef(connectStripe);\n\n  const history = useHistory();\n\n  useScrollTop();\n\n  useEffect(() => {\n    const code = new URL(window.location.href).searchParams.get(\"code\");\n\n    if (code) {\n      connectStripeRef.current({\n        variables: {\n          input: { code },\n        },\n      });\n    } else {\n      history.replace(\"/login\");\n    }\n  }, [history]);\n\n  if (data && data.connectStripe) {\n    return <Redirect to={`/user/${viewer.id}`} />;\n  }\n\n  if (loading) {\n    return (\n      <Content className=\"stripe\">\n        <Spin size=\"large\" tip=\"Connecting your Stripe account...\" />\n      </Content>\n    );\n  }\n\n  if (error) {\n    return <Redirect to={`/user/${viewer.id}?stripe_error=true`} />;\n  }\n\n  return null;\n};\n\nexport { Stripe };\n","import React, { useState } from \"react\";\nimport { render } from \"react-dom\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport { ApolloClient, InMemoryCache, ApolloProvider, createHttpLink } from \"@apollo/client\";\nimport { setContext } from \"@apollo/client/link/context\";\nimport { Layout, Affix, Spin } from \"antd\";\nimport {\n  AppHeader,\n  Home,\n  Host,\n  Listing,\n  Listings,\n  NotFound,\n  User,\n  Login,\n  Stripe,\n} from \"./sections\";\nimport { Viewer } from \"./lib/types\";\nimport { LogInCookie } from \"./lib/graphql/mutations/CookieLogin/__generated__/LogInCookie\";\nimport { useCookieLogin } from \"./lib/hooks/useCookieLogin\";\nimport \"./styles/index.css\";\nimport { AppHeaderSkeleton, ErrorBanner } from \"./lib/components\";\n\n// TODO: move out apollo client\nconst httpLink = createHttpLink({\n  uri: \"/api\",\n});\n\nconst authLink = setContext((_, { headers }) => {\n  // get the authentication token from local storage if it exists\n  const token = sessionStorage.getItem(\"token\") || \"\";\n  // return the headers to the context so httpLink can read them\n  return {\n    headers: {\n      ...headers,\n      \"X-CSRF-TOKEN\": token,\n    },\n  };\n});\n\nconst client = new ApolloClient({\n  link: authLink.concat(httpLink),\n  cache: new InMemoryCache(),\n});\n\nconst initialViewer: Viewer = {\n  id: null,\n  token: null,\n  avatar: null,\n  hasWallet: null,\n  didRequest: false,\n};\n\nconst App = () => {\n  const [viewer, setViewer] = useState<Viewer>(initialViewer);\n\n  const onCompleted = (data: LogInCookie) => {\n    if (data && data.logInCookie) {\n      setViewer(data.logInCookie);\n      if (data.logInCookie.token) {\n        sessionStorage.setItem(\"token\", data.logInCookie.token);\n      } else {\n        sessionStorage.removeItem(\"token\");\n      }\n    }\n  };\n\n  const { error } = useCookieLogin({ onCompleted });\n\n  if (!viewer.didRequest && !error) {\n    return (\n      <Layout className=\"app-skeleton\">\n        <AppHeaderSkeleton />\n        <div className=\"app-skeleton__spin-section\">\n          <Spin size=\"large\" tip=\"Launching Tinyhouse\" />\n        </div>\n      </Layout>\n    );\n  }\n\n  const logInErrorBannerElement = error ? (\n    <ErrorBanner description=\"We weren't able to verify if you were logged in. Please try again later!\" />\n  ) : null;\n\n  return (\n    <Router>\n      <Layout id=\"app\">\n        {logInErrorBannerElement}\n        <Affix offsetTop={0} className=\"app__affix-header\">\n          <AppHeader viewer={viewer} setViewer={setViewer} />\n        </Affix>\n        <Switch>\n          <Route exact path=\"/\">\n            <Home />\n          </Route>\n          <Route exact path=\"/host\">\n            <Host viewer={viewer} />\n          </Route>\n          <Route exact path=\"/listing/:id\">\n            <Listing viewer={viewer} />\n          </Route>\n          <Route exact path=\"/listings/:location?\">\n            <Listings />\n          </Route>\n          <Route exact path=\"/login\">\n            <Login setViewer={setViewer} />\n          </Route>\n          <Route exact path=\"/stripe\">\n            <Stripe viewer={viewer} setViewer={setViewer} />\n          </Route>\n          <Route exact path=\"/user/:id\">\n            <User viewer={viewer} setViewer={setViewer} />\n          </Route>\n          <Route>\n            <NotFound />\n          </Route>\n        </Switch>\n      </Layout>\n    </Router>\n  );\n};\n\nrender(\n  <React.StrictMode>\n    <ApolloProvider client={client}>\n      <App />\n    </ApolloProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { useEffect, useRef } from \"react\";\nimport { useMutation } from \"@apollo/client\";\nimport { LOG_IN_COOKIE } from \"../../graphql/mutations\";\nimport { LogInCookie as LogInCookieData } from \"../../graphql/mutations/CookieLogin/__generated__/LogInCookie\";\nimport { displayErrorMessage } from \"../../utils\";\n\ninterface useCookieLoginProps {\n  onCompleted: (data: LogInCookieData) => void;\n}\n\nconst useCookieLogin = ({ onCompleted }: useCookieLoginProps) => {\n  const [logInCookie, { error }] = useMutation<LogInCookieData>(LOG_IN_COOKIE, {\n    onCompleted,\n    onError: () => {\n      displayErrorMessage(\"We weren't able to log you in.\");\n    },\n  });\n\n  const logInCookieRef = useRef(logInCookie);\n\n  useEffect(() => {\n    logInCookieRef.current();\n  }, []);\n\n  return { logInCookie, error };\n};\n\nexport { useCookieLogin };\n"],"sourceRoot":""}